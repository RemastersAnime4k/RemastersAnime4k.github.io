<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Shounen Tantei Rock Holmes</title>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@700&family=Roboto&display=swap" rel="stylesheet" fetchpriority="high">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
    <style>
        :root {
            --primary-color: #ff6b6b;
            --secondary-color: #4ecdc4;
            --tertiary-color: #ffd166;
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --color1: #ffcccc;
            --color2: #ccffff;
            --color3: #ffd9cc;
            --color4: #ccfffc;
            --unified-transition-duration: 0.35s;
            --unified-transition-timing: cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        body {
            background: linear-gradient(135deg, var(--color1), var(--color2), var(--color3), var(--color4));
            background-size: 400% 400%;
            animation: gradientFlow 20s ease infinite;
            margin: 0;
            padding: 100px 20px 20px; /* Añadir padding-top para navbar fija */
			padding-top: 100px;
            min-height: 100vh;
            font-family: 'Comic Neue', cursive;
        }

        .sr-only { /* Utility class for accessibility */
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .detail-nav {
            backdrop-filter: blur(10px);
            background: var(--glass-bg);
            border-radius: 15px;
            padding: 0.8rem 2rem;
			margin: 0 auto 2rem;
            display: flex;
			align-items: center;
            justify-content: space-between;
			gap: 2rem;
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            z-index: 1000;
            box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
            border: 2px solid rgba(255, 255, 255, 0.3);
            font-family: 'Comic Neue', cursive;
			transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
			transform: translateY(0);

        }

		.nav-hidden {
			transform: translateY(-150%);
		}

        .site-title-detail {
            color: #2d3436;
            font-size: 1.8rem;
			margin: 0;
			flex-shrink: 0;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            font-weight: 700;
			cursor: default;
			user-select: none;
        }

        .back-button {
            background: var(--primary-color);
            color: white;
            padding: 0.8rem 2rem;
			margin-left: auto;
            border-radius: 30px;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 700;
            border: 2px solid white;
            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
            font-family: 'Comic Neue', cursive;
        }

		.back-button:hover {
			transform: translateY(-2px);
			box-shadow: 3px 3px 6px #d1d1d1, -3px -3px 6px #ffffff;
		}

        .anime-container {
            display: grid;
            grid-template-columns: 1fr 1.5fr;
            gap: 2rem;
			margin: 40px auto;
			max-width: 1200px;
        }

		.full-width-section {
			grid-column: 1 / -1;
			width: 100%;
			max-width: 100vw;
			margin: 2rem 0;
		}


		.manga-library {
			max-width: 1400px; /* O el ancho que prefieras */
			margin: 0 auto;
			padding: 2rem;
		}

        .anime-cover {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            border: 2px solid #fff;
			text-align: center;
            height: fit-content;
			box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
        }

        .anime-cover img {
            width: 100%;
			max-width: 400px;
            border-radius: 15px;
            border: 3px solid white;
            aspect-ratio: 3/4;
			/*object-fit: cover; eliminar si es que la imagen esta con un zoom */
			transition: transform 0.3s ease;
        }

        .anime-info {
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2.5rem;
            border: 2px solid #fff;
			box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
        }

		.anime-description {
			font-size: 1rem;
			line-height: 1.6;
			color: #2d3436;
			padding: 1.5rem;
			background: rgba(255 255 255 / 50%);
			border-radius: 15px;
			margin: 2rem 0;
		}

		/* Contenedor de detalles */
		.detail-boxes {
			display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2 columnas */
			gap: 1rem;
			flex-wrap: wrap;
			margin: 1.5rem 0;
			align-items: center;
			justify-content: center;
		}

		/* Burbujas/Recuadros de información */
		.detail-item {
			background: rgba(255, 255, 255, 0.9);
			backdrop-filter: blur(5px);
			padding: 1rem 1.5rem;
			border-radius: 20px;
			border: 2px solid white;
			min-width: 120px;
			text-align: center;
			box-shadow: 3px 3px 6px rgba(0,0,0,0.1);
			transition: all 0.3s ease;
		}

		.detail-item:hover {
			transform: translateY(-3px);
			box-shadow: 5px 5px 10px rgba(0,0,0,0.15);
		}

		.detail-label {
			color: var(--primary-color);
			font-size: 0.85rem;
			font-weight: bold;
			margin-bottom: 0.3rem;
			display: block;
		}

		.detail-value {
			color: #2d3436;
			font-size: 1.1rem;
			font-weight: 700;
			margin: 0;
		}

		/* Contenedor de selectores de idioma */
		.format-selector {
			display: inline-flex;
			gap: 1.5rem;
			background: var(--glass-bg);
			backdrop-filter: blur(10px);
			padding: 1rem;
			border-radius: 20px;
			border: 2px solid white;
			box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
		}

		/* Estilos de los botones de idioma */
		.format-button {
			padding: 1rem 2rem;
			border-radius: 15px;
			border: 2px solid transparent;
			background: rgba(255, 255, 255, 0.9);
			cursor: pointer;
			transition: all 0.3s ease;
			font-family: 'Comic Neue', cursive;
			font-weight: 700;
			display: flex;
			align-items: center;
			gap: 0.8rem;
		}

		.format-button.active {
			background: var(--primary-color);
			color: white;
			border-color: white;
			box-shadow: 3px 3px 6px rgba(0,0,0,0.1);
		}

		.format-button:hover:not(.active) {
			transform: translateY(-3px);
			background: rgba(255, 255, 255, 0.95);
		}

		/* Nuevo contenedor para centrar */
		.language-selector-container {
			grid-column: 1 / -1; /* Ocupa todo el ancho del grid */
			text-align: center;
			margin: 2rem 0;
		}

		/* Contenedor principal vertical */
		.manga-library {
			background: var(--glass-bg);
			backdrop-filter: blur(10px);
			border-radius: 20px;
			padding: 2rem;
			border: 2px solid white;
			box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
		}

		/* Grid vertical */
		.book-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
			gap: 2rem;
			padding: 1rem;
		}

		/* Libro vertical */
		.book-container {
			position: relative;
			perspective: 1200px;
			min-height: 380px;
            cursor: default; /* Indicate interactivity */
		}

		.book-card {
			background: white;
			border-radius: 5px 8px 8px 5px;
			transform-style: preserve-3d;
			transition: all var(--unified-transition-duration) var(--unified-transition-timing);
			position: relative;
			height: auto;
			overflow: hidden;
			box-shadow: 0 10px 30px -5px rgba(0,0,0,0.2);
		}

		/* Portada vertical */
		.book-cover {
			width: 100%;
			height: auto;
			aspect-ratio: 3/5;
			/*object-fit: cover;  eliminar si es que la imagen esta con un zoom */
			object-position: center top;
			border-radius: 3px 6px 6px 3px;
			transition: all var(--unified-transition-duration) var(--unified-transition-timing);
		}

		/* Efecto de páginas del lado derecho */
		.book-card::after {
			content: '';
			position: absolute;
			top: 0;
			right: -5px;
			width: 15px;
			height: 100%;
			background: linear-gradient(to left,
				rgba(255,255,255,0.9) 0%,
				rgba(245,245,245,0.9) 20%,
				rgba(230,230,230,0.9) 100%
			);
			transform: rotateY(-40deg) translateZ(10px);
			transition: all var(--unified-transition-duration) var(--unified-transition-timing);
			opacity: 0;
		}

		/* Burbujas pequeñas */
		.book-info-bubble {
			position: absolute;
			background: var(--primary-color);
			color: white;
			padding: 0.6rem;
			border-radius: 12px;
			box-shadow: 3px 3px 10px rgba(0,0,0,0.2);
			opacity: 0;
			transition-property: opacity, transform;
            transition-duration: var(--unified-transition-duration);
            transition-timing-function: var(--unified-transition-timing);
			width: 100px;
			text-align: center;
			z-index: 2;
			font-size: 0.8rem;
            transform: translateY(10px) scale(0.9); /* Initial hidden state for desktop */
		}

		.volume-number {
			top: 10px;
			left: -15px;
		}

		.chapter-count {
			bottom: 10px;
			right: 100px;
			background: var(--secondary-color);
		}

		/* Efecto hover mejorado (Desktop) */
		.book-container:hover .book-card,
        .book-container.active-mobile .book-card { /* Apply for mobile active state (tilt) */
			transform:
				rotateY(-25deg)
				translateZ(15px)
				translateX(10px);
		}

		.book-container:hover .book-card::after,
        .book-container.active-mobile .book-card::after { /* Page effect on tilt */
			opacity: 1;
			right: -8px;
		}
        
        .book-container:hover .book-info-bubble { /* Desktop hover - bubbles pop into place */
			opacity: 1;
            transform: translateY(0) scale(1); 
		}
        /* Mobile .active-mobile for bubbles is handled by default mobile styles now */


		.book-container:hover .book-cover,
        .book-container.active-mobile .book-cover { /* Cover scale on tilt */
			transform: scale(1.05) translateX(5px);
			filter: brightness(1.05);
		}

		/* Contenido burbujas */
		.info-title {
			font-size: 0.6rem;
			margin: 0 0 0.2rem 0;
			opacity: 0.9;
			letter-spacing: 0.5px;
		}

		.info-content {
			font-size: 0.9rem;
			font-weight: bold;
			margin: 0;
		}

		/* Botón de lectura flotante */
		.read-button {
			position: absolute;
			bottom: 20px;
			left: 77%; 
			transform: translateX(-50%) translateY(10px) scale(0.9); /* Initial hidden state for desktop */
			background: rgba(255,255,255,0.9);
			color: var(--primary-color);
			padding: 0.5rem 1.2rem;
			border-radius: 20px;
			border: none;
			cursor: pointer;
			opacity: 0;
			transition: all var(--unified-transition-duration) var(--unified-transition-timing);
			backdrop-filter: blur(5px);
			box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 3; 
		}

		.book-container:hover .read-button { /* Desktop hover - read button appears */
			opacity: 1;
            transform: translateX(-50%) translateY(0) scale(1); /* Pop into place */
            box-shadow: 0 4px 8px rgba(0,0,0,0.25);
		}
        .book-container.active-mobile .read-button { /* Mobile active - subtle shadow change if needed */
             box-shadow: 0 4px 8px rgba(0,0,0,0.25);
        }


		.manga-container { 
			background: var(--glass-bg);
			backdrop-filter: blur(10px);
			border-radius: 20px;
			width: 90%;
			max-width: 1000px;
			padding: 20px;
		}

		/* Subtítulos de sección */
		.section-title {
			color: var(--primary-color);
			font-size: 1.1rem;
			margin: 0 0 1rem 0;
			padding-left: 1rem;
			border-left: 4px solid var(--primary-color);
			display: flex;
			align-items: center;
			gap: 0.8rem;
		}

		.section-icon {
			font-size: 1.3rem;
		}
        
		/* === Contenido no disponible === */
		.content-unavailable {
			position: relative;
			opacity: 0.6;
			filter: grayscale(0.7); 
		}
      
		.content-unavailable::after {
			content: "No disponible en este idioma";
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			background: rgba(0,0,0,0.85);
			color: white;
			padding: 0.5em 1em;
			border-radius: 8px;
			font-size: 0.8rem;
            font-family: 'Roboto', sans-serif;
			text-align: center;
			width: auto; 
            min-width: 150px;
			z-index: 4; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            pointer-events: none; 
		}
		
		/* === MANGA PLAYER STYLES (Enhanced) === */
		.manga-modal { display: none; } /* Default hidden */
		.manga-modal.flex { display: flex !important; } /* Use !important */

		.manga-modal {
		  position: fixed;
		  inset: 0;
		  background: rgba(0, 0, 0, 0.9); /* Slightly darker for full screen */
		  align-items: center;
		  justify-content: center;
		  z-index: 1000;
          touch-action: none;
		}

        /* Styles for the main content box of the manga modal (bg-gray-900) */
		.manga-modal > .bg-gray-900 {
          background: #1a1a1a;
          width: 100%;
          height: 100%;
          padding: 0; /* No padding on the modal box itself for full screen */
          border-radius: 0; /* No rounded corners for full screen */
          box-shadow: none; /* No shadow for full screen */
		  display: flex;
		  flex-direction: column;
          overflow: hidden; /* Important to contain children */
          position: relative; /* For absolute positioning of zoom controls */
		}

		.close-manga {
		  border: none;
		  font-size: 1.5rem;
		  cursor: pointer;
		  position: absolute;
          top: calc(env(safe-area-inset-top, 0px) + 10px);
          right: calc(env(safe-area-inset-right, 0px) + 10px);
		  background: var(--primary-color);
		  color: white;
		  padding: 8px 12px;
		  border-radius: 20px;
		  cursor: pointer;
          line-height: 1;
          z-index: 1002; /* Higher than other controls */
          -webkit-tap-highlight-color: transparent;
		}

        .manga-controls-header, .manga-nav-footer {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            opacity: 1;
            transform: translateY(0);
            z-index: 1001;
            pointer-events: auto;
        }
        .manga-modal.controls-hidden .manga-controls-header {
            opacity: 0;
            transform: translateY(-100%);
            pointer-events: none;
        }
        .manga-modal.controls-hidden .manga-nav-footer {
            opacity: 0;
            transform: translateY(100%);
            pointer-events: none;
        }
        
        .manga-modal.controls-hidden .manga-zoom-controls { 
            opacity: 0;
            pointer-events: none;
        }


		.manga-controls-header {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            align-items: center;
            flex-wrap: wrap;
            background: rgba(26, 26, 26, 0.85); /* Slightly more opaque */
            border-radius: 0.375rem;
            padding-top: calc(env(safe-area-inset-top, 0px) + 0.5rem);
            padding-right: calc(env(safe-area-inset-right, 0px) + 0.75rem);
            padding-bottom: 0.5rem;
            padding-left: calc(env(safe-area-inset-left, 0px) + 0.75rem);
        }
		.manga-modal .mode-btn {
		  background: #2d2d2d;
		  color: #fff;
		  border: none;
		  padding: 0.5rem 1rem;
		  border-radius: 0.375rem;
		  cursor: pointer;
          font-family: 'Roboto', sans-serif;
          -webkit-tap-highlight-color: transparent;
		}
        .manga-modal .mode-btn.active {
            background: var(--primary-color);
        }
		.manga-modal .page-counter {
		  margin-left: auto;
          margin-right: 60px; /* Space for close button */
		  color: #ccc;
		  line-height: 1.5rem;
          font-family: 'Roboto', sans-serif;
          user-select: none;
		}

		.manga-pages-outer-container {
            flex: 1;
            overflow: hidden;
            position: relative;
            cursor: auto;
        }
        .manga-pages-outer-container.grabbing {
            cursor: grabbing;
        }
		.manga-pages {
		  width: 100%;
          height: 100%;
		  transition: transform 0.1s ease-out; /* For zoom/pan */
		  overscroll-behavior: contain;
          overflow: hidden;
		}
		.manga-pages.vertical {
		  display: flex;
		  flex-direction: column;
		  overflow-y: auto;
		  scroll-behavior: smooth;
          align-items: center;
          will-change: scroll-position;
		}
		.manga-pages.horizontal {
		  display: flex;
		  overflow-x: auto;
		  scroll-snap-type: x mandatory;
		  scroll-behavior: smooth;
		  -ms-overflow-style: none;
		  scrollbar-width: none;
          align-items: center;
          will-change: scroll-position;
          direction: rtl; /* Spreads flow RTL */
		  position: absolute;
		  top: 50%;
		  left: 50%;
		  transform: translate(-50%, -50%);
		  max-width: 64%;
		}
		.manga-pages.horizontal::-webkit-scrollbar {
		  display: none;
		}

        .page-spread {
            display: flex;
            width: 100%;
            height: 100%;
            flex-shrink: 0;
            scroll-snap-align: start; /* For horizontal mode with spreads */
            direction: ltr; /* Slots within spread are LTR for DOM order, visual order affected by parent RTL */
            overflow: hidden; /* Clip zoomed content within spread */
            transform-origin: center center; /* For zoom */
            transition: transform 0.1s ease-out; /* For zoom/pan on spread */
        }

        .page-slot {
            flex: 0 0 50%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Clip image within slot if necessary */
            position: relative; /* For loading indicator */
        }
        .manga-pages.horizontal .page-slot {
            padding: 0;
            margin: 0;
            align-items: center; /* Alinea en la parte superior */
            min-height: 100%; /* Ocupar altura completa */
        }
        
        .manga-pages.horizontal .page-spread {
            height: 100%;
            align-items: stretch; /* Estirar slots verticalmente */
        }

		.page-item { /* Now used inside page-slot or directly in vertical mode */
		  display: flex;
		  justify-content: center;
		  align-items: center;
		  flex-shrink: 0;
          width: 100%;
          height: auto;
          position: relative; /* For loading indicator */
          overflow: hidden;
		}
		.vertical .page-item { /* Direct child in vertical mode */
          /* padding-bottom: 0; This is handled by mobile specific styles now */
		}


		.manga-pages img { /* Applies to images in both modes */
		  max-width: 100%;
		  max-height: 100%;
		  object-fit: contain;
          user-select: none;
          -webkit-user-drag: none;
          pointer-events: none; /* Critical for touch events on parent */
          transform-origin: center center; /* For zoom on image (vertical mode) */
          transition: transform 0.1s ease-out; /* For zoom/pan on image (vertical mode) */
		}
        /* Default styling for images (e.g., in vertical mode) */
        .manga-pages.vertical .page-item img {
             border-radius: 0rem;
             box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        /* Style for closer images in horizontal desktop spreads */
        .manga-pages.horizontal .page-slot .page-item img {
            border-radius: 0;
            box-shadow: none;
            max-width: 71%;
            position: fixed;
        }


        .page-item .loading-spinner, .page-slot .loading-spinner {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            z-index: 1;
            top: calc(50% - 20px);
            left: calc(50% - 20px);
            transform: none;
        }
        .page-item .loading-text, .page-slot .loading-text {
            position: absolute;
            top: calc(50% + 30px);
            left: 50%;
            transform: translateX(-50%);
            color: #ccc;
            font-size: 0.8rem;
        }
        .page-item.loaded .loading-spinner, .page-slot.loaded .loading-spinner,
        .page-item.loaded .loading-text, .page-slot.loaded .loading-text,
        .page-item.error .loading-spinner, .page-slot.error .loading-spinner {
            display: none;
        }
        .page-item.error .loading-text, .page-slot.error .loading-text {
            display: block; /* Ensure error text is visible */
        }

        .manga-nav-footer {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            background: rgba(26, 26, 26, 0.85); /* Slightly more opaque */
            border-radius: 0.375rem;
            padding-top: 0.5rem;
            padding-right: calc(env(safe-area-inset-right, 0px) + 0.75rem);
            padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.5rem);
            padding-left: calc(env(safe-area-inset-left, 0px) + 0.75rem);
        }
		.manga-modal .manga-nav-footer button {
		  background: #2d2d2d;
		  color: #fff;
		  border: none;
		  padding: 0.5rem 1rem;
		  border-radius: 0.375rem;
		  cursor: pointer;
          font-family: 'Roboto', sans-serif;
          -webkit-tap-highlight-color: transparent;
		}
        .manga-modal .manga-nav-footer button:disabled {
            background: #1a1a1a;
            color: #555;
            cursor: not-allowed;
        }

		.no-scroll {
		  overflow: hidden !important;
		}

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .comments-section {
        max-width: 1200px;
        margin: 3rem auto;
        padding: 1.5rem;
        background: var(--glass-bg);
        border: 1px solid var(--glass-border);
        box-shadow: var(--glass-shadow);
        border-radius: 16px;
        font-family: 'Comic Neue', cursive;
        }

        .comments-section h3 {
        color: #fff;
        text-align: center;
        margin-bottom: 1rem;
        font-size: 1.5rem;
        letter-spacing: 0.5px;
        position: relative;
        }

        .comments-section h3::after {
        content: '';
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 60%;
        height: 3px;
        background: linear-gradient(to right, transparent, var(--primary-color), transparent);
        }

        .comments-toggle-container {
        text-align: center;
        margin: 3rem auto;
        }

        .btn-comments {
        background: var(--primary-color);
        color: white;
        padding: 0.8rem 2rem;
        font-size: 1rem;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        font-family: 'Comic Neue', cursive;
        transition: all 0.3s ease;
        }

        .btn-comments:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(255, 107, 107, 0.4);
        }

		/* === Support Hub === */
        .support-hub-container {
            max-width: 1000px;
            margin: 4rem auto;
            padding: 2rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            font-family: 'Comic Neue', cursive;
            backdrop-filter: blur(10px);
            box-shadow: 8px 8px 16px #d1d1d1, -8px -8px 16px #ffffff;
        }

        .support-hub-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .support-hub-header h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .support-hub-header p {
            color: #2d3436;
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .support-tabs {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 30px;
            padding: 0.5rem;
            max-width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        .support-tab {
            padding: 0.8rem 1.5rem;
            border: none;
            background: transparent;
            border-radius: 25px;
            font-family: 'Comic Neue', cursive;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            color: #555;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .support-tab:hover:not(.active) {
            background: rgba(255, 255, 255, 0.7);
            color: #111;
        }

        .support-tab.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 10px rgba(255, 107, 107, 0.4);
        }
        
        .support-tab i {
            font-size: 1.1rem;
        }

        .support-panel {
            padding: 1.5rem;
            background: rgba(255, 255, 255, 50%);
            border-radius: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .panel-description {
            font-size: 1rem;
            line-height: 1.6;
            color: #2d3436;
            max-width: 700px;
            margin: 0 auto 1.5rem auto;
        }

        .panel-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .support-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.8rem 1.8rem;
            border-radius: 30px;
            text-decoration: none;
            font-family: 'Comic Neue', cursive;
            font-weight: 700;
            transition: all 0.3s ease;
            border: 2px solid white;
            min-width: 200px;
        }
        
        .support-btn i { margin-right: 10px; font-size: 1.2rem; }
        .support-btn-primary { background: #E85D5D; color: white; }
        .support-btn-secondary { background: #4ecdc4; color: white; }
        .support-btn-tertiary { background: #ffd166; color: #333; }
        .support-btn:hover { transform: translateY(-3px); box-shadow: 0 7px 14px rgba(0,0,0,0.15); }

		/* --- AD System Styles (Improved) --- */
		/* Contenedor principal para el slot del anuncio */
		.ad-slot-container {
			display: flex;
			justify-content: center;
			align-items: center;
			min-height: 250px; /* Altura del anuncio de Adsterra */
			width: 100%;
		}

		/* Estilo base del contenedor del anuncio */
		.asd-container {
			width: 100%;
			background: var(--glass-bg);
			border: 1px solid var(--glass-border);
			border-radius: 16px;
			padding: 1.5rem;
			position: relative;
			display: flex;
			gap: 1.5rem;
			align-items: center;
			box-sizing: border-box;
			text-decoration: none;
			color: inherit;
			font-family: 'Comic Neue', cursive;
			transition: box-shadow 0.3s ease, transform 0.3s ease;
		}

		/* Placeholder mientras el anuncio dinámico carga */
		.asd-container.loading-ad {
			flex-direction: column;
			justify-content: center;
			text-align: center;
			color: #2d3436;
			font-size: 1.1rem;
		}
		.asd-container.loading-ad .ad-spinner {
			width: 32px;
			height: 32px;
			border: 4px solid rgba(0,0,0,0.1);
			border-top-color: var(--primary-color);
			border-radius: 50%;
			animation: spin 1s linear infinite;
			margin-top: 1rem;
		}

		/* Nuevos estilos para el Banner de Respaldo (Fallback) */
		.asd-container.fallback-ad {
			max-width: 300px;
			width: 100%;
			aspect-ratio: auto 300 / 250;
			padding: 0;
			border-radius: 16px;
			overflow: hidden;
			display: block; /* Sobrescribe flex */
			position: relative;
			cursor: pointer;
			transform: scale(1);
			box-shadow: 0 4px 15px rgba(0,0,0,0.2);
			transition: transform 0.3s ease, box-shadow 0.3s ease;
		}
		.asd-container.fallback-ad:hover {
			transform: scale(1.03) translateY(-2px);
			box-shadow: 0 8px 25px rgba(0,0,0,0.25);
		}
		.asd-container.fallback-ad a {
			display: block;
			width: 100%;
			height: 100%;
			text-decoration: none;
			color: white;
		}

		/* Imagen del anuncio de respaldo */
		.asd-container.fallback-ad .asd-image {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			object-fit: cover;
			border-radius: 0;
			border: none;
			box-shadow: none;
			transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
		}
		.asd-container.fallback-ad:hover .asd-image {
			transform: scale(1.1);
		}

		/* Contenido superpuesto del anuncio de respaldo */
		.asd-container.fallback-ad .asd-content {
			position: absolute;
			bottom: 0;
			left: 0;
			right: 0;
			padding: 1.5rem 1rem 1rem;
			background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.7) 40%, transparent 100%);
			z-index: 2;
			text-align: left;
			color: white;
			font-family: 'Roboto', sans-serif;
			flex-grow: 0; /* Override from general .asd-container */
		}
		.asd-container.fallback-ad .asd-title {
			color: white;
			font-size: 1.1rem;
			font-family: 'Comic Neue', cursive;
			font-weight: 700;
			text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
			margin: 0 0 0.25rem 0;
		}
		.asd-container.fallback-ad .asd-description {
			color: rgba(255, 255, 255, 0.9);
			font-size: 0.8rem;
			line-height: 1.4;
			margin: 0 0 0.75rem 0;
			font-family: 'Roboto', sans-serif;
		}
		.asd-container.fallback-ad .asd-cta {
			display: inline-block;
			background: var(--primary-color);
			color: white;
			padding: 0.4rem 1rem;
			border-radius: 20px;
			font-weight: 700;
			font-size: 0.85rem;
			transition: background-color 0.3s ease;
			box-shadow: none;
			font-family: 'Comic Neue', cursive;
		}
		.asd-container.fallback-ad:hover .asd-cta {
			background-color: #ff8a8a;
		}

		/* Badge de "Publicidad" */
		.asd-badge {
			position: absolute;
			top: 10px;
			right: 10px;
			background: var(--primary-color);
			color: white;
			padding: 0.3rem 0.8rem;
			border-radius: 15px;
			font-size: 0.7rem;
			font-family: 'Roboto', sans-serif;
			z-index: 3;
		}

		/* Mejoras responsive */
		@media (max-width: 1024px) {
			.anime-container {
				grid-template-columns: 1fr;
				margin: 20px;
			}
			.anime-cover { max-width: 350px; margin: 0 auto; }
			.anime-info { padding: 1.5rem; }
			.manga-library { padding: 1.5rem; }
		}

		@media (max-width: 768px) {
            body { padding-top: 80px; }
			.detail-nav {
				position: sticky; top: 0; left: 0; right: 0;
				border-radius: 15; padding: 0.6rem 1rem;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
			}
			.site-title-detail { font-size: 1.3rem; }
			.back-button { padding: 0.5rem 1rem; font-size: 0.85rem; }
	        .anime-container { margin-top: 20px; }
			.anime-description { font-size: 0.9rem; padding: 1rem; }
            .detail-boxes { grid-template-columns: 1fr; }
			.detail-item { flex: 1 1 100px; padding: 0.7rem 0.9rem; }
			.detail-label { font-size: 0.7rem; }
			.detail-value { font-size: 0.9rem; }
			.format-selector { flex-direction: column; width: 85%; gap: 0.8rem; }
			.format-button { justify-content: center; width: 100%; padding: 0.8rem 1rem; }
			
            /* Single Line Horizontal Scroll for Book Grid */
            .book-grid {
                display: grid;
                grid-auto-flow: column;
                grid-auto-columns: 130px; /* Width of each book item */
                overflow-x: auto;
                overflow-y: hidden;
                gap: 1rem;
                padding: 2rem; /* Padding for the scrollable area */
                -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
                scrollbar-width: thin; /* For Firefox */
                scrollbar-color: var(--primary-color) rgba(0,0,0,0.1); /* For Firefox */
            }
            .book-grid::-webkit-scrollbar {
                height: 8px;
            }
            .book-grid::-webkit-scrollbar-thumb {
                background-color: var(--primary-color);
                border-radius: 4px;
            }
            .book-grid::-webkit-scrollbar-track {
                background-color: rgba(0,0,0,0.1);
                 border-radius: 4px;
            }
            .manga-library { /* Adjust parent padding if book-grid has its own */
                padding: 1.5rem 0; 
            }


            .book-container { min-height: 300px; } /* Keep overall container size */
			.book-cover { aspect-ratio: 2/3; }

            /* Mobile Book Card Adjustments - Always Visible Bubbles & Read Button */
            .book-info-bubble { /* General for mobile */
                opacity: 1; /* Visible by default */
                padding: 0.4rem 0.6rem;
                font-size: 0.75rem;
                width: 100px;
                min-width: 70px;
            }
            .volume-number { 
                top: 8px; left: -15px; right: auto;
                opacity: 1; 
                transform: scale(0.85); 
            }
            .chapter-count { 
                bottom: 8px; left: -15px; top: auto; right: auto;
                opacity: 1; 
                transform: scale(0.85); 
            }
            .read-button { 
                opacity: 1; 
                bottom: 20px;
                left: 80%; 
                padding: 0.4rem 1rem;
                transform: translateX(-50%) scale(0.9); 
                 box-shadow: 0 2px 5px rgba(0,0,0,0.2); 
            }
            .book-container.active-mobile .read-button {
                 box-shadow: 0 4px 8px rgba(0,0,0,0.25); 
            }

            /* Manga Player Mobile Styles */
            .manga-modal > .bg-gray-900 { }
            .manga-controls-header {
                padding-top: calc(env(safe-area-inset-top, 0px) + 0.3rem);
                padding-right: calc(env(safe-area-inset-right, 0px) + 0.5rem);
                padding-bottom: 0.3rem;
                padding-left: calc(env(safe-area-inset-left, 0px) + 0.5rem);
                gap: 0.3rem; margin-bottom: 0.5rem;
            }
            .manga-nav-footer {
                padding-top: 0.3rem;
                padding-right: calc(env(safe-area-inset-right, 0px) + 0.5rem);
                padding-bottom: calc(env(safe-area-inset-bottom, 0px) + 0.3rem);
                padding-left: calc(env(safe-area-inset-left, 0px) + 0.5rem);
                gap: 0.3rem; margin-top: 0.5rem; margin-bottom: 0;
            }
            .manga-modal .mode-btn, .manga-modal .manga-nav-footer button { padding: 0.4rem 0.8rem; font-size: 0.8rem; }
            .manga-modal .page-counter { font-size: 0.8rem; margin-right: 40px; }
            .close-manga {
                top: calc(env(safe-area-inset-top, 0px) + 8px);
                right: calc(env(safe-area-inset-right, 0px) + 8px);
                padding: 6px 10px; font-size: 1.2rem;
            }
            .manga-pages.vertical .page-item {
                padding-bottom: 0; 
            }
            .manga-pages.vertical .page-item img { 
                border-radius: 0; 
                box-shadow: none; 
            }

            .support-hub-container {
                padding: 1.5rem 1rem;
                margin: 2rem auto;
            }
            .support-hub-header h2 { font-size: 1.5rem; }
            .support-hub-header p { font-size: 0.9rem; }
            
            .support-tabs {
                flex-direction: column;
                gap: 0.5rem;
                padding: 0.5rem;
                max-width: 100%;
            }
            .support-tab {
                justify-content: center;
                width: 100%;
            }

            .support-panel { padding: 1rem; }
            .panel-description { font-size: 0.9rem; }
            
            .panel-buttons {
                flex-direction: column;
                gap: 0.8rem;
            }
            .support-btn {
                width: 100%;
                box-sizing: border-box; /* Ensure padding doesn't break width */
            }
		}


        @keyframes gradientFlow {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

    </style>
</head>
<body>
    <!-- Navbar -->
	<nav class="detail-nav">
		<h1 class="site-title-detail">Remastersanime4k</h1>
		<div style="flex-grow: 1;"></div>
		<a href="https://remastersanime4k.github.io" class="back-button" aria-label="Volver a la página principal">← Volver</a>
	</nav>

    <!-- Contenido principal -->
    <main class="anime-container" aria-labelledby="anime-title">
        <div class="anime-cover">
            <img src="https://i.pinimg.com/736x/d4/c1/55/d4c155c0d500dcf0460a314fc28cfcce.jpg"
                 alt="Portada del anime">
        </div>

		<!-- Sección de información -->
        <section class="anime-info" aria-labelledby="info-title">
            <h2 id="anime-title" class="sr-only">Shounen Tantei Rock Holmes ( 少年探偵ロック・ホ-ム )</h2>
            <p class="anime-description">Shounen Tantei Rock Holmes (少年探偵ロック・ホームズ) presenta a Rock Holmes, un joven detective brillante que resuelve complejos crímenes. Como una de las primeras incursiones de Tezuka en el género, muestra la influencia de Arthur Conan Doyle (en el nombre "Holmes"). Combina misterio con aventura, humor y el estilo dinámico característico de Tezuka. El astuto Rock Holmes, quien luego reaparecería en otras obras del autor (a veces como villano), destaca por su aguda deducción.</p>
			<div class="detail-boxes" role="region" aria-label="Detalles del anime">
                <div class="detail-item">
                    <span class="detail-label">ESTADO</span>
                    <p class="detail-value">Finalizado</p>
                </div>
                <div class="detail-item">
                    <span class="detail-label">AÑO</span>
                    <p class="detail-value">1949</p>
                </div>
                <div class="detail-item">
                    <span class="detail-label">VOLÚMENES</span>
                    <p class="detail-value">1</p>
                </div>
                <div class="detail-item">
                    <span class="detail-label">CAPÍTULOS</span>
                    <p class="detail-value">13</p>
                </div>
			</div>
		</section>

		<!-- Sección de idiomas -->
		<div class="language-selector-container" role="region" aria-label="Selector de idioma del contenido">
            <div class="format-selector">
                <button class="format-button active" data-lang="jp" aria-pressed="true">Japonés</button>
                <button class="format-button" data-lang="latino" aria-pressed="false">Español Latino</button>
            </div>
		</div>
	</main>


	<section class="full-width-section" aria-labelledby="manga-section-title">
		<div class="manga-library">
			<h3 id="manga-section-title" class="section-title">
				<span class="section-icon" aria-hidden="true">📖</span>Mangas
            </h3>
			<div class="book-grid" role="list" aria-label="Lista de volúmenes de manga">
				<!-- Volumen 1 -->
				<div class="book-container" role="listitem"
						data-srcjp='[
                                    ["https://i.pinimg.com/736x/69/62/98/696298485b2686eea2e9c8fd035c9b91.jpg", ""],
                                    ["https://i.pinimg.com/736x/1b/83/f4/1b83f4d3973f917e0c4d21bfe6b56380.jpg", ""],
                                    ["https://i.pinimg.com/736x/61/fc/c0/61fcc0164fa0ff9f1525190d945ef503.jpg", ""],
                                    ["https://i.pinimg.com/736x/2d/63/bf/2d63bf66e8006fb48bdeaba477545e56.jpg", ""],
                                    ["https://i.pinimg.com/736x/74/89/af/7489af8bf7015fb784e70999e5d963b3.jpg", ""],
                                    ["https://i.pinimg.com/736x/4f/61/22/4f6122b1ba257cdd7b3c9c79b10eade8.jpg", ""],
                                    ["https://i.pinimg.com/736x/a8/11/17/a81117ab182c892a96446a74aa391bd6.jpg", ""],
                                    ["https://i.pinimg.com/736x/46/56/84/4656844493d0aeb892c52c59cea3f2ba.jpg", ""],
                                    ["https://i.pinimg.com/736x/ef/c7/3b/efc73b613acb864826c1fa155e9ba443.jpg", ""],
                                    ["https://i.pinimg.com/736x/df/a2/ab/dfa2abfa56771c90683ff342f14ea51e.jpg", ""],
                                    ["https://i.pinimg.com/736x/cb/98/c7/cb98c780f9dcb63f4a51ac556e933a87.jpg", ""],
                                    ["https://i.pinimg.com/736x/62/b8/e7/62b8e7670eb86a54f5659a7d2b93c2b6.jpg", ""],
                                    ["https://i.pinimg.com/736x/9e/d4/c6/9ed4c6b4624c1d5ca93e11431d5b5c6e.jpg", ""],
                                    ["https://i.pinimg.com/736x/d2/fe/9e/d2fe9e67cb49f656589e5ffe1fdf986b.jpg", ""],
                                    ["https://i.pinimg.com/736x/ac/7d/9f/ac7d9f60a45c2efb7d03793f59d3e76c.jpg", ""],
                                    ["https://i.pinimg.com/736x/a8/a8/38/a8a838e17fa639aee09a78ccea0cfbfd.jpg", ""],
                                    ["https://i.pinimg.com/736x/ec/4b/ab/ec4babbabfd7c05a7af1779f7beb375b.jpg", ""],
                                    ["https://i.pinimg.com/736x/5a/5b/d4/5a5bd4b4bf56bffca44615c85425bf9f.jpg", ""],
                                    ["https://i.pinimg.com/736x/fa/fe/e8/fafee8b10e914b83deb62a1503cd3767.jpg", ""],
                                    ["https://i.pinimg.com/736x/20/2d/5a/202d5a7485ef68f8ff362a8f97a02639.jpg", ""],
                                    ["https://i.pinimg.com/736x/b2/b7/9e/b2b79e2b74aae17175719f39d1524840.jpg", ""],
                                    ["https://i.pinimg.com/736x/54/c2/c5/54c2c59c63e254d64cc6c8d476163243.jpg", ""],
                                    ["https://i.pinimg.com/736x/fd/52/36/fd52362cfe4a697c11702503c208bb81.jpg", ""],
                                    ["https://i.pinimg.com/736x/6b/50/97/6b50972704fff7fa2218eda4b0f2c068.jpg", ""],
                                    ["https://i.pinimg.com/736x/7c/48/d9/7c48d939c21e55e7c726ade0d1c1ecb2.jpg", ""],
                                    ["https://i.pinimg.com/736x/cf/d5/90/cfd59017c3345f69f4fe1421cf31aa0f.jpg", ""],
                                    ["https://i.pinimg.com/736x/70/79/eb/7079eb25e702ef3bdf7c88fae6283acb.jpg", ""],
                                    ["https://i.pinimg.com/736x/f6/4a/24/f64a245676599c0694274f664154d3eb.jpg", ""],
                                    ["https://i.pinimg.com/736x/c1/5d/a1/c15da109604f550522ccd8c56fdfb04e.jpg", ""],
                                    ["https://i.pinimg.com/736x/9c/33/b3/9c33b3f51cce774a8d1cf7373ee34f91.jpg", ""],
                                    ["https://i.pinimg.com/736x/44/87/c7/4487c7002eabea9979150f6598137ac5.jpg", ""],
                                    ["https://i.pinimg.com/736x/c6/1a/ac/c61aaccd6865783cfb3d1a93b15875c7.jpg", ""],
                                    ["https://i.pinimg.com/736x/dd/2c/7c/dd2c7c3a472d309e6328c93c8289676a.jpg", ""],
                                    ["https://i.pinimg.com/736x/9b/eb/b2/9bebb209615addcf4f9a510970411276.jpg", ""],
                                    ["https://i.pinimg.com/736x/76/01/73/760173a8dd8e7c7e6703b186452eb7d0.jpg", ""],
                                    ["https://i.pinimg.com/736x/63/48/20/6348208a253c2d0fd18797532711489a.jpg", ""],
                                    ["https://i.pinimg.com/736x/41/36/c5/4136c5659796324eca4053d856f346b9.jpg", ""],
                                    ["https://i.pinimg.com/736x/11/57/94/11579484b8d16a7ff5ee3018032eaa52.jpg", ""],
                                    ["https://i.pinimg.com/736x/90/ac/da/90acdac9ac791ca7f2e3836daadd7ea1.jpg", ""],
                                    ["https://i.pinimg.com/736x/44/b9/a3/44b9a33e3d60dd9f51a055f5d438e0d7.jpg", ""],
                                    ["https://i.pinimg.com/736x/c5/81/6c/c5816cb5a5a9b7016a5fc42c0fc925ab.jpg", ""],
                                    ["https://i.pinimg.com/736x/bc/52/8d/bc528d382c81b067ea7f0fbe717e31a3.jpg", ""],
                                    ["https://i.pinimg.com/736x/e0/0b/06/e00b062b3ecc6d3c740bb768b95c2a33.jpg", ""],
                                    ["https://i.pinimg.com/736x/68/ef/29/68ef29862d29c05ca1655d124d7c76cb.jpg", ""],
                                    ["https://i.pinimg.com/736x/37/f0/bf/37f0bfbbf3aeb367fb1aa0411b753d4e.jpg", ""],
                                    ["https://i.pinimg.com/736x/8a/27/de/8a27de09b3cceac61aaef303022a8784.jpg", ""],
                                    ["https://i.pinimg.com/736x/a5/d3/43/a5d34390dd5f5483bb95f6d9a49ee959.jpg", ""],
                                    ["https://i.pinimg.com/736x/97/f6/b3/97f6b3c57fe99945856b56ffbb519218.jpg", ""],
                                    ["https://i.pinimg.com/736x/92/3e/d6/923ed600e8fa472388211bf6d239810e.jpg", ""],
                                    ["https://i.pinimg.com/736x/73/1d/15/731d15da9d149f6c532a3aedcbc3038e.jpg", ""],
                                    ["https://i.pinimg.com/736x/a3/76/39/a37639e32982cbad7364c236a762e4ce.jpg", ""],
                                    ["https://i.pinimg.com/736x/4b/8c/15/4b8c15e876825796bda72c009e6efdbe.jpg", ""],
                                    ["https://i.pinimg.com/736x/97/f6/22/97f622113ca350b802481f31e3d042a8.jpg", ""],
                                    ["https://i.pinimg.com/736x/34/1c/38/341c38d5d2552a96ac433746dbb50b0d.jpg", ""],
                                    ["https://i.pinimg.com/736x/1a/e4/aa/1ae4aa1d807c9a8778a2fc77ba9ccbbf.jpg", ""],
                                    ["https://i.pinimg.com/736x/0c/2a/7d/0c2a7d4aa73f8a581597e67297b8bd2c.jpg", ""],
                                    ["https://i.pinimg.com/736x/24/2a/35/242a35eda5d3d41a2fb0b3a6cf0b45ec.jpg", ""],
                                    ["https://i.pinimg.com/736x/d4/26/5b/d4265b7ff1fa455fae1b0030fba9f562.jpg", ""],
                                    ["https://i.pinimg.com/736x/0e/d1/52/0ed1529fc0379637455e7542885e2a7e.jpg", ""],
                                    ["https://i.pinimg.com/736x/a4/8e/c7/a48ec7fd34add7d157f533669f8c8a47.jpg", ""],
                                    ["https://i.pinimg.com/736x/1a/3f/bb/1a3fbbf553d863766208e8e52fdd2bda.jpg", ""],
                                    ["https://i.pinimg.com/736x/4e/15/5e/4e155e8775551976e04df9b45d250c45.jpg", ""],
                                    ["https://i.pinimg.com/736x/72/0c/09/720c093c5e75f828bff823e22f416978.jpg", ""],
                                    ["https://i.pinimg.com/736x/63/bd/39/63bd3907bc07f583a071e679dc756db6.jpg", ""],
                                    ["https://i.pinimg.com/736x/20/27/76/202776de878c6833b7ffb5aca597653a.jpg", ""],
                                    ["https://i.pinimg.com/736x/e3/97/c6/e397c66cc3858073ef2073cd27f574db.jpg", ""],
                                    ["https://i.pinimg.com/736x/88/45/0f/88450f088186fdbd70e4fb53ab742cc2.jpg", ""],
                                    ["https://i.pinimg.com/736x/d0/0d/fa/d00dfae0aee2ecfc440813d12f394ff3.jpg", ""],
                                    ["https://i.pinimg.com/736x/7a/6b/b0/7a6bb09fcc9c9422c9cfcb6647ef841b.jpg", ""],
                                    ["https://i.pinimg.com/736x/a4/0b/b8/a40bb81d5e73ebeca3a9e613174a9832.jpg", ""],
                                    ["https://i.pinimg.com/736x/7f/39/1f/7f391f1a13b196558cbde58b3b4aa63e.jpg", ""],
                                    ["https://i.pinimg.com/736x/68/90/03/689003c4fcfc2d8e71edbedfe99005cb.jpg", ""],
                                    ["https://i.pinimg.com/736x/8a/d8/eb/8ad8eb6ab6ec6bcdce0b54c06b44633e.jpg", ""],
                                    ["https://i.pinimg.com/736x/ff/08/2b/ff082baedf0200df2ddfa84970c67023.jpg", ""],
                                    ["https://i.pinimg.com/736x/d9/b2/d2/d9b2d2688de86a2dcfef3e960191c7c2.jpg", ""],
                                    ["https://i.pinimg.com/736x/4a/80/94/4a8094b2b671072f604f1f946d04601a.jpg", ""],
                                    ["https://i.pinimg.com/736x/c4/5e/0a/c45e0a77a805b36d1fdfbe17c0131a19.jpg", ""],
                                    ["https://i.pinimg.com/736x/51/a6/93/51a693d698025ae58d6a40ca6a6b17ad.jpg", ""],
                                    ["https://i.pinimg.com/736x/c0/a2/22/c0a2224c46ed1ff71e9b112ac1f2557e.jpg", ""],
                                    ["https://i.pinimg.com/736x/31/c5/81/31c58141bc75528fa578f13af4a7b73a.jpg", ""],
                                    ["https://i.pinimg.com/736x/a4/8e/b3/a48eb34233148661972c03c5bd20349e.jpg", ""],
                                    ["https://i.pinimg.com/736x/87/f2/77/87f2776c2daa5afaa121ffbed15982a3.jpg", ""],
                                    ["https://i.pinimg.com/736x/b4/b7/2d/b4b72df80a5a01cc10037c03b326ac9f.jpg", ""],
                                    ["https://i.pinimg.com/736x/71/49/d3/7149d3ff61ebb9cfeb934ee23065c0ed.jpg", ""],
                                    ["https://i.pinimg.com/736x/96/3b/80/963b8018e39aee44e1d2522438d853dd.jpg", ""],
                                    ["https://i.pinimg.com/736x/d8/b7/27/d8b727ff548755c78eaf1ec12da6f018.jpg", ""],
                                    ["https://i.pinimg.com/736x/51/6c/03/516c03341b6f242a11864bd521ae20f3.jpg", ""],
                                    ["https://i.pinimg.com/736x/b0/94/3b/b0943bdafaaed2d5e4c24e1b56859b74.jpg", ""],
                                    ["https://i.pinimg.com/736x/c0/97/98/c0979818371009bebb707a2c43e8b8a6.jpg", ""],
                                    ["https://i.pinimg.com/736x/95/ca/0f/95ca0f46815d0694f60204d95254bc8c.jpg", ""],
                                    ["https://i.pinimg.com/736x/c9/03/56/c903567c994ca7d030b126304079170c.jpg", ""],
                                    ["https://i.pinimg.com/736x/d1/4a/29/d14a29223b1d25002bd382448b745af0.jpg", ""],
                                    ["https://i.pinimg.com/736x/57/94/ea/5794ea49c30c6fd94c3f7f2a1173846d.jpg", ""],
                                    ["https://i.pinimg.com/736x/0c/c9/9c/0cc99cb8e0e4c08b969768ab28b25419.jpg", ""],
                                    ["https://i.pinimg.com/736x/de/14/eb/de14eb6454ac6f075dd5c36f47e31264.jpg", ""],
                                    ["https://i.pinimg.com/736x/b2/da/39/b2da39148277338412480d6e1f9c12e3.jpg", ""],
                                    ["https://i.pinimg.com/736x/7d/d7/6b/7dd76bb7f11368ecc1d834ac722fa198.jpg", ""],
                                    ["https://i.pinimg.com/736x/4e/d4/26/4ed426837f14cb186f336da043d71d39.jpg", ""],
                                    ["https://i.pinimg.com/736x/47/c4/74/47c4748a40f52f8b406a54d11d353058.jpg", ""],
                                    ["https://i.pinimg.com/736x/e8/65/51/e865512200bfedb10251ba6cd39a50e8.jpg", ""],
                                    ["https://i.pinimg.com/736x/2f/dd/13/2fdd139446a9574682dd7e09db33ffcd.jpg", ""],
                                    ["https://i.pinimg.com/736x/82/63/a5/8263a5e838a21368d226ac9f9b174a20.jpg", ""],
                                    ["https://i.pinimg.com/736x/16/2b/19/162b19e323e7641380367f27b7cec957.jpg", ""],
                                    ["https://i.pinimg.com/736x/4b/31/63/4b3163ea6f610d8d199ad0b5ab67f52c.jpg", ""],
                                    ["https://i.pinimg.com/736x/76/a1/03/76a1034f49d284f9b563cfd98524d7d6.jpg", ""],
                                    ["https://i.pinimg.com/736x/07/bd/38/07bd384ff88e23430f86c5fa942fdb1c.jpg", ""],
                                    ["https://i.pinimg.com/736x/1b/3e/e7/1b3ee78c384636b5f9cda4493d8fcfca.jpg", ""],
                                    ["https://i.pinimg.com/736x/19/fc/9d/19fc9da8cd0ecf4f44da9523a9b01fab.jpg", ""],
                                    ["https://i.pinimg.com/736x/50/b8/73/50b8731cd21c5f29eabe9b3b514d9ce3.jpg", ""],
                                    ["https://i.pinimg.com/736x/0f/db/65/0fdb65d1d790b3618ef43e4555b00587.jpg", ""],
                                    ["https://i.pinimg.com/736x/55/24/e5/5524e5706722c95c9416dbd9e5a3215d.jpg", ""],
                                    ["https://i.pinimg.com/736x/70/66/1a/70661ac57bcbe1d63b1d5ba438d286df.jpg", ""],
                                    ["https://i.pinimg.com/736x/90/c1/ca/90c1ca975a1a6d07bffb2b247103bdd9.jpg", ""],
                                    ["https://i.pinimg.com/736x/d1/b2/48/d1b248efd12bca725c2f100098252db0.jpg", ""],
                                    ["https://i.pinimg.com/736x/a0/50/b9/a050b91172e967096215f53b60ce4e19.jpg", ""],
                                    ["https://i.pinimg.com/736x/86/44/02/86440248a49981888e57f85f65cea9a1.jpg", ""],
                                    ["https://i.pinimg.com/736x/e4/dd/7d/e4dd7d88331cfc11706bb967f1a73565.jpg", ""],
                                    ["https://i.pinimg.com/736x/bf/0d/26/bf0d2691bf1ece465f24d98477b5a245.jpg", ""],
                                    ["https://i.pinimg.com/736x/de/1f/18/de1f1859cd41d259544f7fd76a52e69a.jpg", ""],
                                    ["https://i.pinimg.com/736x/00/54/b2/0054b21bda2be596b33afa268bc3c8a7.jpg", ""],
                                    ["https://i.pinimg.com/736x/f9/5d/14/f95d14745d050897c6e6da46cb1b2acc.jpg", ""],
                                    ["https://i.pinimg.com/736x/b0/26/24/b0262418958dac91cfd39702882c9631.jpg", ""],
                                    ["https://i.pinimg.com/736x/e5/b9/84/e5b984841ea8114006d78223f392e5a2.jpg", ""],
                                    ["https://i.pinimg.com/736x/67/67/99/6767998e8de02e7e182401f4e292865c.jpg", ""],
                                    ["https://i.pinimg.com/736x/69/8d/58/698d580ff00053767040824cb9975316.jpg", ""],
                                    ["https://i.pinimg.com/736x/8a/c7/28/8ac728657cf5fc265dde302b0c2ce58f.jpg", ""],
                                    ["https://i.pinimg.com/736x/4f/75/ce/4f75ce6ebec361e08791bc81ad9c8f54.jpg", ""],
                                    ["https://i.pinimg.com/736x/63/c7/2b/63c72b41176ad4fdc18d4c13327a5bf0.jpg", ""],
                                    ["https://i.pinimg.com/736x/6f/e6/47/6fe6476799779f840bacaf52a8c498d3.jpg", ""],
                                    ["https://i.pinimg.com/736x/a7/1a/cc/a71acc3b8cacc5a507b7c4df1089b9d2.jpg", ""],
                                    ["https://i.pinimg.com/736x/31/2b/91/312b915e6a0dbe36ca5c3a608755769f.jpg", ""],
                                    ["https://i.pinimg.com/736x/b4/ca/de/b4cade4f40f38038da25b17eb6e61d47.jpg", ""],
                                    ["https://i.pinimg.com/736x/a2/87/bb/a287bbdb030027404abda6bd243b149f.jpg", ""],
                                    ["https://i.pinimg.com/736x/7b/bb/d2/7bbbd2f5e0276b9f8802da0fb0f1ceb4.jpg", ""],
                                    ["https://i.pinimg.com/736x/04/54/30/045430f402a32555158640a0b6ab3ca1.jpg", ""],
                                    ["https://i.pinimg.com/736x/78/ce/ac/78ceaca40e96381bb65281c804a0b4ed.jpg", ""],
                                    ["https://i.pinimg.com/736x/1a/61/ef/1a61ef4ea1f2bbf9351e33ac1030574e.jpg", ""],
                                    ["https://i.pinimg.com/736x/86/03/27/860327580d623a134d08c103449242a1.jpg", ""],
                                    ["https://i.pinimg.com/736x/c9/bc/7b/c9bc7b3d3d756c6a8d4f67c1e10d95d7.jpg", ""],
                                    ["https://i.pinimg.com/736x/94/13/fe/9413fe4f8a64e79aa508f9aaff41725e.jpg", ""],
                                    ["https://i.pinimg.com/736x/15/a0/97/15a097db8cab70653d37e713c626a6f4.jpg", ""],
                                    ["https://i.pinimg.com/736x/03/d4/e9/03d4e948427385cc4f286516b5763f05.jpg", ""],
                                    ["https://i.pinimg.com/736x/a3/ca/72/a3ca72b919024dd8d1280e5b35c320eb.jpg", ""],
                                    ["https://i.pinimg.com/736x/b5/ba/f6/b5baf689dada879e051a7e2947b4f67b.jpg", ""],
                                    ["https://i.pinimg.com/736x/d2/06/8e/d2068ebbce620e8c00ddb4d6efadbf1a.jpg", ""],
                                    ["https://i.pinimg.com/736x/65/8a/6e/658a6e8268f75956877b6a6c0f62066a.jpg", ""],
                                    ["https://i.pinimg.com/736x/50/54/d7/5054d7feb14318004ac2216476511aa3.jpg", ""],
                                    ["https://i.pinimg.com/736x/93/6f/71/936f7184f35c99368fd37b0a80bc7283.jpg", ""],
                                    ["https://i.pinimg.com/736x/09/d8/2d/09d82d5de6341cef8ca24ff5d9caaea7.jpg", ""],
                                    ["https://i.pinimg.com/736x/7e/5a/cb/7e5acb3d8d49eb35b1624b55337cb02b.jpg", ""],
                                    ["https://i.pinimg.com/736x/da/ea/f1/daeaf12c79f0644e06044e28d84daf64.jpg", ""],
                                    ["https://i.pinimg.com/736x/b2/82/a6/b282a6613afc87f16e0f7c61366590f8.jpg", ""],
                                    ["https://i.pinimg.com/736x/28/51/dc/2851dcaa5129bb879e00dbd368ec37d5.jpg", ""],
                                    ["https://i.pinimg.com/736x/c7/6e/96/c76e966a15bf6e92d25548196794c5f5.jpg", ""],
                                    ["https://i.pinimg.com/736x/cc/47/6a/cc476aead175fdbda69feb2de787db06.jpg", ""],
                                    ["https://i.pinimg.com/736x/b1/3c/25/b13c25f8bc0464916c5e784bf344cb61.jpg", ""],
                                    ["https://i.pinimg.com/736x/b9/d8/55/b9d8551109129bf57fb0251e4979f0e5.jpg", ""],
                                    ["https://i.pinimg.com/736x/f9/82/71/f98271e816d1b710df4f8deaa5f12c8f.jpg", ""],
                                    ["https://i.pinimg.com/736x/a9/b8/98/a9b898c998c3df3b24dd4a10163434f8.jpg", ""],
                                    ["https://i.pinimg.com/736x/1d/93/16/1d9316130411af3e33c7fb8cb8dbec5c.jpg", ""],
                                    ["https://i.pinimg.com/736x/37/08/bf/3708bf48716fbb875fc27b493884d8f5.jpg", ""],
                                    ["https://i.pinimg.com/736x/23/f4/01/23f4012cd81bd37ee5295c89ce871eb6.jpg", ""],
                                    ["https://i.pinimg.com/736x/fa/5d/10/fa5d1031d3e2a75e4a90b5451ae7f556.jpg", ""],
                                    ["https://i.pinimg.com/736x/b8/80/ec/b880ecc07cd0bdfa4dacce4c7f2c0998.jpg", ""],
                                    ["https://i.pinimg.com/736x/f6/3b/c2/f63bc2c00b68026bba5fdf7a6f3d5b74.jpg", ""],
                                    ["https://i.pinimg.com/736x/04/25/ca/0425ca0ca79040057ad81577f49e5a98.jpg", ""],
                                    ["https://i.pinimg.com/736x/be/35/92/be3592fff3978a7df44d423de4eec449.jpg", ""],
                                    ["https://i.pinimg.com/736x/33/03/9f/33039f82cb507779bbd547e4ce47158c.jpg", ""],
                                    ["https://i.pinimg.com/736x/eb/ba/eb/ebbaeb11d24617b0ad54ddfb74b82fb2.jpg", ""],
                                    ["https://i.pinimg.com/736x/8e/dd/e6/8edde67edf07ddc14613eba1052688e1.jpg", ""],
                                    ["https://i.pinimg.com/736x/13/10/a8/1310a8f5321de39c326120e3f2feb7dd.jpg", ""],
                                    ["https://i.pinimg.com/736x/b0/e1/bf/b0e1bf9cde70dd30c93ca0b73acf5d2e.jpg", ""],
                                    ["https://i.pinimg.com/736x/c8/1c/f1/c81cf176490805f0348195b87141cc02.jpg", ""],
                                    ["https://i.pinimg.com/736x/36/60/52/36605291cd4b75c5f4ed98952edf9074.jpg", ""],
                                    ["https://i.pinimg.com/736x/cb/51/4d/cb514d562d4ba8914f8da119ad862fd5.jpg", ""],
                                    ["https://i.pinimg.com/736x/6d/8e/33/6d8e33d0cab49a1eb1f5f56412ac7099.jpg", ""],
                                    ["https://i.pinimg.com/736x/5b/f9/d2/5bf9d24eaa74d41fed11244e2f8530a9.jpg", ""],
                                    ["https://i.pinimg.com/736x/3a/f4/57/3af457b5808ddda27232ad50812b3172.jpg", ""],
                                    ["https://i.pinimg.com/736x/14/f4/94/14f49458deb6f6ed19a9bf68c0b09a94.jpg", ""],
                                    ["https://i.pinimg.com/736x/59/1e/09/591e093d9913c12469ced6905edfd45c.jpg", ""],
                                    ["https://i.pinimg.com/736x/a6/3c/70/a63c70592f16d90bd0edb3f2bbd3c2a6.jpg", ""],
                                    ["https://i.pinimg.com/736x/4f/47/cb/4f47cbcb5fbbfedd938f9be247027e08.jpg", ""],
                                    ["https://i.pinimg.com/736x/74/0e/cb/740ecbd4cbd61fc5e859bbb747fb012f.jpg", ""],
                                    ["https://i.pinimg.com/736x/24/1a/29/241a29a25bf90bb5e4e2f520d5837c4b.jpg", ""],
                                    ["https://i.pinimg.com/736x/d6/43/5b/d6435baa70504314655fc6ca974f8d4e.jpg", ""],
                                    ["https://i.pinimg.com/736x/3d/3a/10/3d3a10f0aec2cb21b6add7e24d565a3a.jpg", ""],
                                    ["https://i.pinimg.com/736x/c6/75/13/c67513b1ff460f38049e1f639a89e01e.jpg", ""],
                                    ["https://i.pinimg.com/736x/6d/87/29/6d87290c742b46fba3b55b47c778db8c.jpg", ""],
                                    ["https://i.pinimg.com/736x/11/cb/da/11cbdaa53cd0bcbd263652cee4a046c6.jpg", ""],
                                    ["https://i.pinimg.com/736x/e1/8b/34/e18b34066b16312f5b67242db6a29be1.jpg", ""],
                                    ["https://i.pinimg.com/736x/bd/14/4b/bd144be9b82e3285e3337261d29249d4.jpg", ""],
                                    ["https://i.pinimg.com/736x/e7/b6/50/e7b6509d42b453beab1cde619906fb1d.jpg", ""],
                                    ["https://i.pinimg.com/736x/d8/2d/13/d82d136b35ac2851aecf88744179e070.jpg", ""],
                                    ["https://i.pinimg.com/736x/1a/8d/93/1a8d93b8c1fb95fb08abddeaa1188849.jpg", ""],
                                    ["https://i.pinimg.com/736x/5b/e2/fa/5be2fa2fc1fc81cfcd169a71d1b6c5d2.jpg", ""],
                                    ["https://i.pinimg.com/736x/96/73/82/9673822376e66d88fe58b337739a0ec2.jpg", ""],
                                    ["https://i.pinimg.com/736x/a0/f8/a1/a0f8a186fca83397eed93b04d528dd0c.jpg", ""],
                                    ["https://i.pinimg.com/736x/0e/00/dc/0e00dce130eb3645008e12c70412e34f.jpg", ""],
                                    ["https://i.pinimg.com/736x/7c/40/4c/7c404cce1b0eb469a324afd486d33865.jpg", ""],
                                    ["https://i.pinimg.com/736x/44/ff/d5/44ffd5cae2a97f4ea524e15636b53ae7.jpg", ""],
                                    ["https://i.pinimg.com/736x/60/f4/70/60f4702d259d8bead27d4947c437b405.jpg", ""],
                                    ["https://i.pinimg.com/736x/80/6b/05/806b05f5bf26bd5d20b2d23970f3e5c6.jpg", ""],
                                    ["https://i.pinimg.com/736x/d6/c1/09/d6c1095f7a31f83b732989a3ac145d86.jpg", ""],
                                    ["https://i.pinimg.com/736x/a3/ea/43/a3ea437cc7120f9467e1717f191f5c76.jpg", ""],
                                    ["https://i.pinimg.com/736x/47/d9/cf/47d9cf9b3291e482ae7d79dfbdf6971a.jpg", ""],
                                    ["https://i.pinimg.com/736x/c6/19/b4/c619b498d019e99779dbcc73559ac374.jpg", ""],
                                    ["https://i.pinimg.com/736x/ac/03/3d/ac033d1707283586e7f7625809b93ab5.jpg", ""],
                                    ["https://i.pinimg.com/736x/e6/fa/51/e6fa515bdb856733403497bf26b6c3e7.jpg", ""],
                                    ["https://i.pinimg.com/736x/f3/4a/04/f34a0455160f14a0e85ed377c0a94294.jpg", ""],
                                    ["https://i.pinimg.com/736x/f4/9c/ae/f49caec1e573dea90cfc644227c66f29.jpg", ""],
                                    ["https://i.pinimg.com/736x/aa/58/b3/aa58b3c1b30a6ae713824f1f02fd21b1.jpg", ""],
                                    ["https://i.pinimg.com/736x/a7/d3/83/a7d38392a135bc5d8a0a7af9726253cf.jpg", ""],
                                    ["https://i.pinimg.com/736x/7b/d9/a1/7bd9a177df0118135f6660b23d2ef72d.jpg", ""],
                                    ["https://i.pinimg.com/736x/3d/79/a2/3d79a2cf207ff59f22f91d556cc2462d.jpg", ""],
                                    ["https://i.pinimg.com/736x/c6/ba/4a/c6ba4a228282b1624db24c69a3d2cca2.jpg", ""],
                                    ["https://i.pinimg.com/736x/ef/45/c5/ef45c5f45162e2b9d6ce37cec20f1236.jpg", ""],
                                    ["https://i.pinimg.com/736x/e0/8f/37/e08f37cac6839c386fd08df97807e82a.jpg", ""],
                                    ["https://i.pinimg.com/736x/a0/5d/4d/a05d4df7695877fa08b711ccd63587c1.jpg", ""],
                                    ["https://i.pinimg.com/736x/cf/22/bd/cf22bd2a01fa8f6019a145d047952ad0.jpg", ""],
                                    ["https://i.pinimg.com/736x/6f/76/b7/6f76b72bf121a6bd5edc03c956a574fe.jpg", ""],
                                    ["https://i.pinimg.com/736x/73/81/f8/7381f8011f6c9a1570413068bf3a39ae.jpg", ""],
                                    ["https://i.pinimg.com/736x/7b/1e/17/7b1e1729838aa609292591918fc67e29.jpg", ""],
                                    ["https://i.pinimg.com/736x/10/0c/68/100c68436d96c41535e00af1360b3c67.jpg", ""],
                                    ["https://i.pinimg.com/736x/e4/ca/de/e4cade8ee33960b181ecbe91a4a2a686.jpg", ""],
                                    ["https://i.pinimg.com/736x/42/52/81/42528179528341788f419b4025e18d27.jpg", ""],
                                    ["https://i.pinimg.com/736x/76/f9/f2/76f9f2cb7014525ba280fc8945938436.jpg", ""],
                                    ["https://i.pinimg.com/736x/d0/63/dc/d063dc6959325ba2d0b98c80b4a52032.jpg", ""],
                                    ["https://i.pinimg.com/736x/d7/b3/39/d7b33971a3984de1b96645bc126a4eb6.jpg", ""],
                                    ["https://i.pinimg.com/736x/76/63/f8/7663f84b53d08e0743ed0a6b323cd271.jpg", ""],
                                    ["https://i.pinimg.com/736x/5b/fe/01/5bfe015bcaca4911b9fe5ca10a05016e.jpg", ""],
                                    ["https://i.pinimg.com/736x/14/ba/08/14ba0827f154b4194ed5fceb13a52f71.jpg", ""],
                                    ["https://i.pinimg.com/736x/69/3f/74/693f74a1a2c83e36b49087be08925011.jpg", ""],
                                    ["https://i.pinimg.com/736x/34/69/bb/3469bb052b31cadea0788212699b8935.jpg", ""],
                                    ["https://i.pinimg.com/736x/72/2c/2d/722c2d6caf5cbc8662a73940763f0009.jpg", ""],
                                    ["https://i.pinimg.com/736x/ab/cf/18/abcf18c441064021d3b95c2e45bea36c.jpg", ""],
                                    ["https://i.pinimg.com/736x/81/cd/58/81cd5853352ab4dc66f91791ae12f628.jpg", ""],
                                    ["https://i.pinimg.com/736x/ed/53/a7/ed53a72709b28f3042334a35bd795e06.jpg", ""],
                                    ["https://i.pinimg.com/736x/d9/1d/b2/d91db2f4599d66ad317ccb1d9b03757a.jpg", ""],
                                    ["https://i.pinimg.com/736x/02/aa/4b/02aa4b1a708742c4e2c4d88db72fbbd4.jpg", ""],
                                    ["https://i.pinimg.com/736x/2b/a5/e8/2ba5e8d311fdb022d6a6cdad62cadbad.jpg", ""],
                                    ["https://i.pinimg.com/736x/b3/3c/23/b33c2378a25ad93024f69fcd11a9d7ce.jpg", ""],
                                    ["https://i.pinimg.com/736x/26/c0/96/26c09658e666702a822be6d499b6a9a0.jpg", ""],
                                    ["https://i.pinimg.com/736x/07/6c/22/076c223a0ef912ccd0ebab9054020fbf.jpg", ""],
                                    ["https://i.pinimg.com/736x/a9/76/df/a976df0c95e95360e97b766c6d29f1ce.jpg", ""],
                                    ["https://i.pinimg.com/736x/0b/9a/c8/0b9ac8dbc6b513759b5f9f6cb9118fbd.jpg", ""],
                                    ["https://i.pinimg.com/736x/19/ca/07/19ca07b22596964dca606b977ce0b27d.jpg", ""],
                                    ["https://i.pinimg.com/736x/d9/69/a2/d969a22081371c0c972975f17f0f4a25.jpg", ""],
                                    ["https://i.pinimg.com/736x/fd/70/a2/fd70a23980a100d5cb0352f3dde1de64.jpg", ""],
                                    ["https://i.pinimg.com/736x/30/48/0d/30480da5007b29bbabd5cdf196681bdc.jpg", ""],
                                    ["https://i.pinimg.com/736x/31/14/d7/3114d78a8944edba6f3f8f80a718a59d.jpg", ""],
                                    ["https://i.pinimg.com/736x/61/76/fa/6176fae4dc88dfbb812fdae61f710d18.jpg", ""],
                                    ["https://i.pinimg.com/736x/6f/89/ea/6f89ea4fbf5a52222a25936053325c0c.jpg", ""],
                                    ["https://i.pinimg.com/736x/40/41/5c/40415c23496b772fcb0d64b60c96991d.jpg", ""],
                                    ["https://i.pinimg.com/736x/f1/02/55/f102557efe80e400b7f597c76b86c6e3.jpg", ""],
                                    ["https://i.pinimg.com/736x/ac/94/d7/ac94d72fdf72c40dcce9627cfdca612b.jpg", ""],
                                    ["https://i.pinimg.com/736x/d9/bc/90/d9bc90220185d8f90d54aa2aca371b90.jpg", ""]
									]'
						data-srclatino='[
										["", ""]
										]'>
					<div class="book-card">
						<img src="https://i.pinimg.com/736x/ee/dd/ce/eeddcedb6096689be333f9ea95eb5387.jpg"
							 class="book-cover"
							 alt="Portada del Volumen 1 del manga">

						<div class="book-info-bubble volume-number">
							<p class="info-title">Volumen</p>
							<p class="info-content">1</p>
						</div>

						<div class="book-info-bubble chapter-count">
							<p class="info-title">Capítulos</p>
							<p class="info-content">13</p>
						</div>

						<button class="read-button" aria-label="Leer Volumen 1">Leer</button>
					</div>
				</div>
                <!-- Placeholder for other volumes -->
			</div>
		</div>
	</section>

    <!-- === Support Hub === -->
    <section class="support-hub-container" aria-labelledby="support-hub-title">
        <div class="support-hub-header">
            <h2 id="support-hub-title">Puedes Apoyarnos</h2>
            <p>Tu contribución hace posible que esta aventura continúe.<br>¡Puedes elegir tu forma de apoyar!</p>
        </div>
        <div class="support-hub">
            <div class="support-tabs" role="tablist" aria-label="Formas de apoyar">
                <button class="support-tab" id="tab-donate" role="tab" aria-selected="false" aria-controls="panel-donate">
                    <i class="fas fa-heart"></i> Donar
                </button>
                <button class="support-tab active" id="tab-ads" role="tab" aria-selected="true" aria-controls="panel-ads">
                    <i class="fas fa-ad"></i> Publicidad
                </button>
                <button class="support-tab" id="tab-share" role="tab" aria-selected="false" aria-controls="panel-share">
                    <i class="fas fa-share-alt"></i> Compartir
                </button>
            </div>
            <div class="support-panels">
                <div class="support-panel" id="panel-donate" role="tabpanel" tabindex="0" aria-labelledby="tab-donate" style="display: none;">
                    <p class="panel-description">Tu aporte directo nos impulsa a optimizar el sistema de remasterización, mejorando la experiencia y la calidad del contenido que disfrutas. ¡Cada contribución cuenta!</p>
                    <div class="panel-buttons">
                        <a href="https://ko-fi.com/remastersanime4k" target="_blank" rel="noopener noreferrer" class="support-btn support-btn-secondary">
                            <i class="fas fa-coffee"></i> Donar con ko-fi
                        </a>
                    </div>
                </div>
                <div class="support-panel active" id="panel-ads" role="tabpanel" tabindex="0" aria-labelledby="tab-ads" style="display: block;">
                    <p class="panel-description">Nuestra web se mantiene gracias a anuncios no intrusivos. ¡Con solo navegar, ya nos estás ayudando de forma gratuita!</p>
                    <div id="ad-slot-container" class="ad-slot-container">
                        <!-- El sistema de anuncios inyectará el contenido aquí -->
                    </div>
                </div>
                <div class="support-panel" id="panel-share" role="tabpanel" tabindex="0" aria-labelledby="tab-share" style="display: none;">
                    <p class="panel-description">¿Te gusta lo que hacemos? ¡Ayúdanos a llegar a más Personas! Compartir nuestro trabajo es una de las mejores formas de apoyarnos.</p>
                     <div class="panel-buttons">
                        <a href="#" class="support-btn support-btn-secondary">
                            <i class="fas fa-share-alt"></i> Compartir en Redes
                        </a>
                        <a href="#commentsSection" class="support-btn support-btn-primary" id="comment-link-btn">
                            <i class="fas fa-comment"></i> Dejar un Comentario
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

	<!-- === Modal manga (Updated HTML Structure) === -->
	<div class="manga-modal hidden" id="manga-reader-modal" role="dialog" aria-modal="true" aria-labelledby="manga-reader-title">
	  <div class="bg-gray-900"> 
          <h2 id="manga-reader-title" class="sr-only">Lector de Manga</h2>
		<button class="close-manga" aria-label="Cerrar lector de manga">&times;</button>

		<div class="manga-controls-header">
		  <button class="mode-btn active" data-mode="vertical" aria-pressed="true" aria-label="Cambiar a modo de lectura vertical">
			⬇︎ Vertical
		  </button>
		  <button class="mode-btn" data-mode="horizontal" aria-pressed="false" aria-label="Cambiar a modo de lectura horizontal">
			➡︎ Horizontal
		  </button>
		  <span class="page-counter" aria-live="polite">0/0</span>
		</div>
        <div class="manga-pages-outer-container"> 
            <div class="manga-pages vertical" id="manga-pages-container" role="region" aria-label="Páginas del manga">
              <!-- Páginas se insertan aquí por JavaScript -->
            </div>
        </div>

		<nav class="manga-nav-footer" aria-label="Navegación de páginas del manga">
		  <button class="prev-page" aria-label="Página anterior">Anterior</button>
		  <button class="next-page" aria-label="Página siguiente">Siguiente</button>
		</nav>

	  </div>
	</div>

    <!-- Botón para cargar comentarios -->
    <div class="comments-toggle-container">
    <button id="toggleCommentsBtn" class="btn-comments">💬 Ver comentarios</button>
    </div>
    <section class="comments-section" id="commentsSection" style="display: none;">
    <!-- Aquí se cargará Giscus al hacer clic -->
    </section>

 <script>
 (function() {
    if ('addEventListener' in document) {
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof FastClick !== 'undefined') {
                FastClick.attach(document.body);
            }
        }, false);
    }

    // --- MANGA PLAYER MODULE (Enhanced) ---
    class MangaPlayer {
        constructor() {
            this.mangaModal = document.getElementById('manga-reader-modal');
            if (!this.mangaModal) { console.error("Manga modal not found."); return; }

            this.mangaPagesOuterContainer = this.mangaModal.querySelector('.manga-pages-outer-container');
            this.mangaPagesContainer = this.mangaModal.querySelector('#manga-pages-container');
            this.mangaCloseBtn = this.mangaModal.querySelector('.close-manga');
            this.mangaNextBtn  = this.mangaModal.querySelector('.next-page');
            this.mangaPrevBtn  = this.mangaModal.querySelector('.prev-page');
            this.mangaModeBtns = this.mangaModal.querySelectorAll('.mode-btn');
            this.mangaCounter  = this.mangaModal.querySelector('.page-counter');
            
            this._mangaPageSources = [];
            this._mangaIndex = 0; 
            this._currentSpreadIndex = 0; 
            this._mangaTotalPages = 0;
            this._mangaTotalSpreads = 0;

            this._mangaZoomLevel = 1;
            this._mangaPanX = 0; this._mangaPanY = 0;
            this._mangaInitialPanX = 0; this._mangaInitialPanY = 0;
            this._mangaIsPanning = false; this._mangaIsPinching = false;
            this._mangaTouchStartX = 0; this._mangaTouchStartY = 0;
            this._mangaLastTouchX = 0; this._mangaLastTouchY = 0;
            this._mangaInitialPinchDistance = 0;
            this._mangaInitialZoom = 1;
            this._mangaLastTapTime = 0;
            this._mangaControlsVisible = true;
            this._mangaControlsTimeoutId = null;
            this._mangaMinZoom = 1; this._mangaMaxZoom = 5;
            this._currentMode = 'vertical'; 
            this._intersectionObserver = null;

            this.setupEventListeners();
        }

        setupEventListeners() {
            this.mangaCloseBtn.addEventListener('click', () => this.close());
            
            this.mangaNextBtn.addEventListener('click', () => {
                if (this._currentMode === 'horizontal') this.navigatePage(-1); 
                else this.navigatePage(1); 
            });
            this.mangaPrevBtn.addEventListener('click', () => {
                if (this._currentMode === 'horizontal') this.navigatePage(1); 
                else this.navigatePage(-1); 
            });

            this.mangaModeBtns.forEach(btn => {
                btn.addEventListener('click', (e) => this.setMode(e.currentTarget.dataset.mode));
            });
            
            this.mangaPagesOuterContainer.addEventListener('touchstart', this.handleTouchStart.bind(this), { passive: false });
            this.mangaPagesOuterContainer.addEventListener('touchmove', this.handleTouchMove.bind(this), { passive: false });
            this.mangaPagesOuterContainer.addEventListener('touchend', this.handleTouchEnd.bind(this));
            this.mangaPagesOuterContainer.addEventListener('wheel', e => this.handleWheelScroll(e), { passive: false });
        }

        open(pageSourcesJson) {
            try {
                this._mangaPageSources = JSON.parse(pageSourcesJson);
            } catch (e) {
                console.error("Error parsing manga page sources:", e, pageSourcesJson);
                alert("Error al cargar datos del manga.");
                return;
            }

            this._mangaTotalPages = this._mangaPageSources.length;
            this._mangaTotalSpreads = Math.ceil(this._mangaTotalPages / 2);
            this._mangaIndex = 0;
            this._currentSpreadIndex = 0;
            
            this.resetZoomAndPan();

            this.mangaModal.classList.remove('hidden');
            this.mangaModal.classList.add('flex');
            document.body.classList.add('no-scroll');
            
            const initialMode = this._currentMode || 'vertical'; 
            this.setMode(initialMode, true); 
            
            this.updateNavigation();
            this.updateCounter();
            this._scrollToCurrentPage(false); 

            this.showControls(true);
        }

        _buildVerticalLayout() {
            this.mangaPagesContainer.innerHTML = '';
            const fragment = document.createDocumentFragment();
            this._mangaPageSources.forEach((pageUrls, index) => {
                this._createPageItemAndLoadImage(index, fragment, true);
            });
            this.mangaPagesContainer.appendChild(fragment);
        }

        _buildHorizontalLayout() {
            this.mangaPagesContainer.innerHTML = '';
            const fragment = document.createDocumentFragment();
            for (let s = 0; s < this._mangaTotalSpreads; s++) {
                const spreadDiv = document.createElement('div');
                spreadDiv.className = 'page-spread';
                spreadDiv.id = `manga-spread-${s}`;
                spreadDiv.setAttribute('role', 'group');
                spreadDiv.setAttribute('aria-label', `Doble página ${s + 1}`);

                const rightVisualSlot = document.createElement('div'); 
                rightVisualSlot.className = 'page-slot';
                const leftVisualSlot = document.createElement('div');  
                leftVisualSlot.className = 'page-slot';
                
                const pageIndexForVisuallyRight = s * 2; 
                const pageIndexForVisuallyLeft = s * 2 + 1;
                
                if (pageIndexForVisuallyRight < this._mangaTotalPages) {
                    this._createPageItemAndLoadImage(pageIndexForVisuallyRight, rightVisualSlot, false);
                } else { rightVisualSlot.innerHTML = ''; } 
                
                if (pageIndexForVisuallyLeft < this._mangaTotalPages) {
                    this._createPageItemAndLoadImage(pageIndexForVisuallyLeft, leftVisualSlot, false);
                } else { leftVisualSlot.innerHTML = ''; } 
                
                spreadDiv.appendChild(leftVisualSlot);  
                spreadDiv.appendChild(rightVisualSlot); 
                fragment.appendChild(spreadDiv);
            }
            this.mangaPagesContainer.appendChild(fragment);
        }

        _createPageItemAndLoadImage(pageIndexToLoad, parentElement, isDirectChildInContainer) {
            const pageItem = document.createElement('div');
            pageItem.className = 'page-item';
            pageItem.dataset.pageIndex = pageIndexToLoad.toString(); 

            if (isDirectChildInContainer) { 
                pageItem.id = `manga-page-${pageIndexToLoad}`;
            }
            pageItem.setAttribute('role', 'img');
            pageItem.setAttribute('aria-label', `Página de manga ${pageIndexToLoad + 1}`);
            this._updateLoadingIndicator(pageItem, true);

            const img = document.createElement('img');
            img.alt = `Página ${pageIndexToLoad + 1}`;
            const pageUrls = this._mangaPageSources[pageIndexToLoad] || [];
            img.dataset.sourceUrls = JSON.stringify(pageUrls);
            img.dataset.currentSourceIndex = "0";

            img.onload = () => this._updateLoadingIndicator(pageItem, false);
            img.onerror = (e) => this.handleImageError(e.target, pageItem);
            
            if (pageUrls.length > 0) img.src = pageUrls[0];
            else this.handleImageError(img, pageItem);

            pageItem.appendChild(img);
            parentElement.appendChild(pageItem);
            return pageItem;
        }

        _setupIntersectionObserverForVerticalScroll() {
            if (this._intersectionObserver) {
                this._intersectionObserver.disconnect();
            }
    
            const options = {
                root: this.mangaPagesContainer,
                rootMargin: '0px',
                threshold: 0.5 
            };
    
            this._intersectionObserver = new IntersectionObserver((entries, observer) => {
                let mostVisibleEntry = null;
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (!mostVisibleEntry || entry.intersectionRatio > mostVisibleEntry.intersectionRatio) {
                            mostVisibleEntry = entry;
                        }
                    }
                });
    
                if (mostVisibleEntry) {
                    const pageIndexStr = mostVisibleEntry.target.dataset.pageIndex;
                    if (pageIndexStr) {
                        const pageIndex = parseInt(pageIndexStr, 10);
                        if (!isNaN(pageIndex) && this._mangaIndex !== pageIndex) {
                            this._mangaIndex = pageIndex;
                            this.updateCounter();
                            this.updateNavigation();
                        }
                    }
                }
            }, options);
    
            this.mangaPagesContainer.querySelectorAll('.page-item').forEach(item => {
                this._intersectionObserver.observe(item);
            });
        }


        close() {
            this.mangaModal.classList.add('hidden');
            this.mangaModal.classList.remove('flex');
            document.body.classList.remove('no-scroll');
            this.resetZoomAndPan();
            clearTimeout(this._mangaControlsTimeoutId);
            if (this._intersectionObserver) {
                this._intersectionObserver.disconnect();
                this._intersectionObserver = null;
            }
        }

        handleImageError(imgElement, pageItemElement) {
            let currentSourceIndex = parseInt(imgElement.dataset.currentSourceIndex, 10);
            const sourceUrls = JSON.parse(imgElement.dataset.sourceUrls);
            currentSourceIndex++;
            if (currentSourceIndex < sourceUrls.length) {
                imgElement.src = sourceUrls[currentSourceIndex];
                imgElement.dataset.currentSourceIndex = currentSourceIndex.toString();
            } else {
                const pageIndexForError = pageItemElement.dataset.pageIndex || 'desconocida';
                console.warn(`All sources failed for page ${pageIndexForError}`);
                imgElement.alt = `Error al cargar página ${parseInt(pageIndexForError,10) + 1}`;
                this._updateLoadingIndicator(pageItemElement, false, true); 
            }
        }
        _updateLoadingIndicator(element, isLoading, isError = false) { 
            if (!element) return;
            element.classList.remove('loading', 'loaded', 'error');
            let spinner = element.querySelector('.loading-spinner');
            let text = element.querySelector('.loading-text');

            if (isLoading) {
                element.classList.add('loading');
                if (!spinner) { spinner = document.createElement('div'); spinner.className = 'loading-spinner'; element.appendChild(spinner); }
                if (!text) { text = document.createElement('span'); text.className = 'loading-text'; element.appendChild(text); }
                text.textContent = 'Cargando...';
                spinner.style.display = 'block'; text.style.display = 'block';
            } else {
                if (spinner) spinner.style.display = 'none';
                if (text) text.style.display = 'none';
                if (isError) {
                    element.classList.add('error');
                    if (text) { text.textContent = 'Error al cargar'; text.style.display = 'block'; }
                    else { 
                        text = document.createElement('span'); text.className = 'loading-text';
                        text.textContent = 'Error al cargar'; element.appendChild(text); text.style.display = 'block';
                    }
                } else {
                    element.classList.add('loaded');
                }
            }
        }
        setMode(mode, calledFromOpen = false) {
            this._currentMode = mode;
            if (this._intersectionObserver) { 
                this._intersectionObserver.disconnect();
                this._intersectionObserver = null;
            }

            this.mangaPagesContainer.classList.toggle('horizontal', mode === 'horizontal');
            this.mangaPagesContainer.classList.toggle('vertical', mode === 'vertical');
            this.mangaModeBtns.forEach(btn => {
                const isActive = btn.dataset.mode === mode;
                btn.classList.toggle('active', isActive);
                btn.setAttribute('aria-pressed', isActive.toString());
            });

            if (mode === 'horizontal') {
                this._buildHorizontalLayout();
                this.mangaPrevBtn.innerHTML = 'Siguiente &#8250;'; 
                this.mangaPrevBtn.setAttribute('aria-label', 'Siguiente doble página');
                this.mangaNextBtn.innerHTML = '&#8249; Anterior'; 
                this.mangaNextBtn.setAttribute('aria-label', 'Anterior doble página');
            } else {
                this._buildVerticalLayout();
                this._setupIntersectionObserverForVerticalScroll(); 
                this.mangaPrevBtn.innerHTML = '&#8249; Anterior';
                this.mangaPrevBtn.setAttribute('aria-label', 'Página anterior');
                this.mangaNextBtn.innerHTML = 'Siguiente &#8250;';
                this.mangaNextBtn.setAttribute('aria-label', 'Página siguiente');
            }
            
            this.resetZoomAndPan();
            if (!calledFromOpen) { 
                this._scrollToCurrentPage(false);
                this.updateNavigation();
                this.updateCounter();
            }
            this.showControls();
        }

        navigatePage(direction) {
            let changed = false;
            if (this._currentMode === 'vertical') {
                const newIndex = this._mangaIndex + direction;
                if (newIndex >= 0 && newIndex < this._mangaTotalPages) {
                    this._mangaIndex = newIndex;
                    changed = true;
                }
            } else { 
                const newSpreadIndex = this._currentSpreadIndex + direction;
                if (newSpreadIndex >= 0 && newSpreadIndex < this._mangaTotalSpreads) {
                    this._currentSpreadIndex = newSpreadIndex;
                    this._mangaIndex = this._currentSpreadIndex * 2; 
                    changed = true;
                }
            }

            if (changed) {
                this.resetZoomAndPan();
                this._scrollToCurrentPage(true);
                this.updateNavigation();
                this.updateCounter();
                this.showControls();
            }
        }

        _scrollToCurrentPage(smooth = true) {
            if (this._currentMode === 'vertical') {
                const pageElement = this.mangaPagesContainer.querySelector(`#manga-page-${this._mangaIndex}`);
                if (pageElement) {
                    pageElement.scrollIntoView({ behavior: smooth ? 'smooth' : 'auto', block: 'nearest' });
                }
            } else { 
                const spreadElement = this.mangaPagesContainer.querySelector(`#manga-spread-${this._currentSpreadIndex}`);
                if (spreadElement) {
                    this.mangaPagesContainer.scrollTo({ left: spreadElement.offsetLeft, behavior: smooth ? 'smooth' : 'auto'});
                }
            }
        }

        updateNavigation() {
            if (this._currentMode === 'vertical') {
                this.mangaPrevBtn.disabled = this._mangaIndex === 0;
                this.mangaNextBtn.disabled = this._mangaIndex >= this._mangaTotalPages - 1;
            } else { 
                this.mangaPrevBtn.disabled = this._currentSpreadIndex >= this._mangaTotalSpreads - 1; 
                this.mangaNextBtn.disabled = this._currentSpreadIndex === 0; 
            }
        }

        updateCounter() {
            if (this._currentMode === 'vertical') {
                this.mangaCounter.textContent = `Página ${this._mangaIndex + 1} / ${this._mangaTotalPages}`;
                this.mangaCounter.setAttribute('aria-label', `Página ${this._mangaIndex + 1} de ${this._mangaTotalPages}`);
            } else { 
                const firstPageInSpread = this._currentSpreadIndex * 2;
                const secondPageInSpread = firstPageInSpread + 1;
                let text = "";

                if (this._mangaTotalPages === 0) {
                    text = `0 / 0`;
                } else if (secondPageInSpread < this._mangaTotalPages) { 
                    text = `Páginas ${secondPageInSpread + 1}-${firstPageInSpread + 1} de ${this._mangaTotalPages}`;
                } else if (firstPageInSpread < this._mangaTotalPages) { 
                    text = `Página ${firstPageInSpread + 1} de ${this._mangaTotalPages}`;
                } else { 
                     text = `Doble Página ${this._currentSpreadIndex + 1} / ${this._mangaTotalSpreads}`;
                }
                this.mangaCounter.textContent = text;
            }
        }

        _getCurrentMangaElementForZoom() {
            if (this._currentMode === 'vertical') {
                const pageElement = this.mangaPagesContainer.querySelector(`#manga-page-${this._mangaIndex}`);
                return pageElement ? pageElement.querySelector('img') : null;
            } else { 
                return this.mangaPagesContainer.querySelector(`#manga-spread-${this._currentSpreadIndex}`);
            }
        }

        handleTouchStart(e) {
            const targetElement = this._getCurrentMangaElementForZoom();
            if (!targetElement) return;

            if (e.touches.length === 1 && this._mangaZoomLevel > 1) {
                e.preventDefault(); this._mangaIsPanning = true;
                this.mangaPagesOuterContainer.classList.add('grabbing');
                this._mangaTouchStartX = e.touches[0].clientX; this._mangaTouchStartY = e.touches[0].clientY;
                this._mangaInitialPanX = this._mangaPanX; this._mangaInitialPanY = this._mangaPanY;
            } else if (e.touches.length === 1) {
                 this._mangaTouchStartX = e.touches[0].clientX; this._mangaTouchStartY = e.touches[0].clientY;
                 this._mangaLastTouchX = this._mangaTouchStartX; this._mangaLastTouchY = this._mangaTouchStartY; 
                 this._mangaIsPanning = false;
            } else if (e.touches.length === 2) {
                e.preventDefault(); this._mangaIsPinching = true; this._mangaIsPanning = false;
                this._mangaInitialPinchDistance = this.getDistanceBetweenTouches(e.touches);
                this._mangaInitialZoom = this._mangaZoomLevel;
            }
            this.showControls();
        }

        handleTouchMove(e) {
            const targetElement = this._getCurrentMangaElementForZoom();
            if (!targetElement) return;

            if (this._mangaIsPanning && e.touches.length === 1 && this._mangaZoomLevel > 1) {
                e.preventDefault();
                const deltaX = e.touches[0].clientX - this._mangaTouchStartX;
                const deltaY = e.touches[0].clientY - this._mangaTouchStartY;
                const newPanX = this._mangaInitialPanX + deltaX; const newPanY = this._mangaInitialPanY + deltaY;
                this.applyZoomAndPan(targetElement, this._mangaZoomLevel, newPanX, newPanY, true);
            } else if (this._mangaIsPinching && e.touches.length === 2) {
                e.preventDefault();
                const currentDistance = this.getDistanceBetweenTouches(e.touches);
                let newZoom = this._mangaInitialZoom * (currentDistance / this._mangaInitialPinchDistance);
                newZoom = Math.max(this._mangaMinZoom, Math.min(this._mangaMaxZoom, newZoom));
                
                const rect = this.mangaPagesOuterContainer.getBoundingClientRect();
                const touchCenterX = (e.touches[0].clientX + e.touches[1].clientX) / 2 - rect.left;
                const touchCenterY = (e.touches[0].clientY + e.touches[1].clientY) / 2 - rect.top;
                const imageOriginX = (touchCenterX - this._mangaPanX) / this._mangaZoomLevel; 
                const imageOriginY = (touchCenterY - this._mangaPanY) / this._mangaZoomLevel;
                const newPanX = touchCenterX - (imageOriginX * newZoom);
                const newPanY = touchCenterY - (imageOriginY * newZoom);
                
                this._mangaZoomLevel = newZoom; 
                this.applyZoomAndPan(targetElement, this._mangaZoomLevel, newPanX, newPanY, true);
                
            } else if (e.touches.length === 1 && !this._mangaIsPanning && !this._mangaIsPinching) {
                this._mangaLastTouchX = e.touches[0].clientX; this._mangaLastTouchY = e.touches[0].clientY;
            }
        }

        handleTouchEnd(e) {
            const currentTime = new Date().getTime();
            const tapThreshold = 300; 
            const swipeThreshold = 50; 

            if (this._mangaIsPanning) {
                this._mangaIsPanning = false; this.mangaPagesOuterContainer.classList.remove('grabbing');
            } else if (this._mangaIsPinching) {
                this._mangaIsPinching = false;
                if (this._mangaZoomLevel <= this._mangaMinZoom + 0.05) {
                    this.resetZoomAndPan(true); 
                } 
            } else if (e.changedTouches.length === 1 && this._mangaZoomLevel <= this._mangaMinZoom + 0.05) { 
                const deltaX = this._mangaLastTouchX - this._mangaTouchStartX;
                const deltaY = this._mangaLastTouchY - this._mangaTouchStartY;

                if (Math.abs(deltaX) > swipeThreshold || Math.abs(deltaY) > swipeThreshold) { 
                    if (this._currentMode === 'horizontal' && Math.abs(deltaX) > Math.abs(deltaY)) {
                        this.navigatePage(deltaX < 0 ? 1 : -1); 
                    } 
                } else { 
                    if (currentTime - this._mangaLastTapTime < tapThreshold) { 
                        const targetElement = this._getCurrentMangaElementForZoom();
                        if (targetElement) {
                            if (this._mangaZoomLevel > this._mangaMinZoom) {
                                this.resetZoomAndPan(true);
                            } else {
                                const rect = this.mangaPagesOuterContainer.getBoundingClientRect();
                                const tapX = e.changedTouches[0].clientX - rect.left;
                                const tapY = e.changedTouches[0].clientY - rect.top;
                                const originX = (tapX - this._mangaPanX) / this._mangaZoomLevel;
                                const originY = (tapY - this._mangaPanY) / this._mangaZoomLevel;
                                const targetZoom = 2;
                                const newPanX = tapX - (originX * targetZoom);
                                const newPanY = tapY - (originY * targetZoom);
                                this.applyZoomAndPan(targetElement, targetZoom, newPanX, newPanY, true);
                            }
                        }
                        this._mangaLastTapTime = 0; 
                    } else {
                        this.toggleControls(); 
                    }
                    this._mangaLastTapTime = currentTime;
                }
            } else if (e.changedTouches.length === 1 && this._mangaZoomLevel > this._mangaMinZoom + 0.05) {
                 this.toggleControls();
                 this._mangaLastTapTime = currentTime; 
            }
            this._mangaLastTouchX = 0; this._mangaLastTouchY = 0;
        }

        getDistanceBetweenTouches(touches) {
            const dx = touches[0].clientX - touches[1].clientX;
            const dy = touches[0].clientY - touches[1].clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }

        applyZoomAndPan(element, scale, panX, panY, restrictPan = false) {
            if (!element) return;
            this._mangaZoomLevel = scale;
            
            if (restrictPan) {
                const outerRect = this.mangaPagesOuterContainer.getBoundingClientRect();
                let elementWidth = element.offsetWidth; 
                let elementHeight = element.offsetHeight;
                
                if (this._currentMode === 'vertical' && element.tagName === 'IMG') {
                     elementWidth = element.naturalWidth || element.offsetWidth;
                     elementHeight = element.naturalHeight || element.offsetHeight;
                }

                const scaledWidth = elementWidth * scale; 
                const scaledHeight = elementHeight * scale;

                let finalPanX = panX; let finalPanY = panY;
                if (scaledWidth > outerRect.width) {
                    const maxPanX = (scaledWidth - outerRect.width) / 2;
                    finalPanX = Math.max(-maxPanX, Math.min(maxPanX, panX));
                } else {
                    finalPanX = 0; 
                }
                if (scaledHeight > outerRect.height) {
                    const maxPanY = (scaledHeight - outerRect.height) / 2;
                    finalPanY = Math.max(-maxPanY, Math.min(maxPanY, panY));
                } else {
                    finalPanY = 0; 
                }
                this._mangaPanX = finalPanX; this._mangaPanY = finalPanY;
            } else {
                 this._mangaPanX = panX; this._mangaPanY = panY;
            }
            element.style.transform = `scale(${this._mangaZoomLevel}) translate(${this._mangaPanX}px, ${this._mangaPanY}px)`;
        }

        resetZoomAndPan(applyTransform = true) {
            this._mangaZoomLevel = 1; this._mangaPanX = 0; this._mangaPanY = 0;
            this._mangaIsPanning = false; this._mangaIsPinching = false;
            this.mangaPagesOuterContainer.classList.remove('grabbing');
            if (applyTransform) {
                const targetElement = this._getCurrentMangaElementForZoom();
                if (targetElement) targetElement.style.transform = `scale(1) translate(0px, 0px)`;
            }
        }
        
        toggleControls() {
            this._mangaControlsVisible = !this._mangaControlsVisible;
            if (this._mangaControlsVisible) this.showControls(true);
            else this.hideControls();
        }

        showControls(autoHide = true) {
            this.mangaModal.classList.remove('controls-hidden');
            this._mangaControlsVisible = true; 
            clearTimeout(this._mangaControlsTimeoutId);
            if (autoHide && this._mangaZoomLevel <= this._mangaMinZoom + 0.05) { 
                this._mangaControlsTimeoutId = setTimeout(() => this.hideControls(), 4000);
            }
        }

        hideControls() {
            this.mangaModal.classList.add('controls-hidden');
            this._mangaControlsVisible = false; clearTimeout(this._mangaControlsTimeoutId);
        }

        handleWheelScroll(e) {
            if (!this.mangaModal.classList.contains('flex') || this._mangaIsPinching) return;
            const targetElement = this._getCurrentMangaElementForZoom();
            if (!targetElement) return;

            if (this._mangaZoomLevel > 1.01) {  // Using 1.01 as a small tolerance for float comparison
                e.preventDefault(); 
                const newPanX = this._mangaPanX - e.deltaX; 
                const newPanY = this._mangaPanY - e.deltaY;
                this.applyZoomAndPan(targetElement, this._mangaZoomLevel, newPanX, newPanY, true);
                this.showControls();
                return;
            }
            
            if (this._currentMode === 'horizontal') {
                e.preventDefault(); 
                this.navigatePage(Math.sign(e.deltaX || e.deltaY)); 
            }
            // In vertical mode, if not zoomed, default browser scroll of mangaPagesContainer is allowed.
            this.showControls();
        }

        handleKeyboard(e) { 
            if (this._mangaIsPanning || this._mangaIsPinching) return;

            const activeElement = document.activeElement;
            if (activeElement && this.mangaModal.contains(activeElement)) {
                if (activeElement.tagName === 'BUTTON' && (e.key === ' ' || e.key === 'Enter')) {
                    return; 
                }
            }
            
            let eventHandled = false;

            if (e.key === 'Escape') {
                e.preventDefault();
                this.close();
                eventHandled = true;
            } 
            
            if (!eventHandled && this._mangaZoomLevel <= 1.01) { // Check if not zoomed
                let navigatedByPageKeys = false;
                let scrolledContainer = false;

                switch (e.key) {
                    case 'ArrowDown': 
                        if (this._currentMode === 'vertical') { 
                            e.preventDefault();
                            this.mangaPagesContainer.scrollTop += 40; 
                            scrolledContainer = true;
                        } 
                        break;
                    case 'ArrowUp': 
                        if (this._currentMode === 'vertical') { 
                            e.preventDefault();
                            this.mangaPagesContainer.scrollTop -= 40;
                            scrolledContainer = true;
                        } 
                        break;
                    case 'ArrowRight': 
                        if (this._currentMode === 'horizontal') { 
                            e.preventDefault(); this.navigatePage(-1); navigatedByPageKeys = true; 
                        } 
                        break;
                    case 'ArrowLeft': 
                        if (this._currentMode === 'horizontal') { 
                            e.preventDefault(); this.navigatePage(1); navigatedByPageKeys = true; 
                        } 
                        break;
                    case 'PageDown': 
                        e.preventDefault();
                        if (this._currentMode === 'vertical') {
                            this.mangaPagesContainer.scrollTop += this.mangaPagesContainer.clientHeight * 0.9;
                            scrolledContainer = true;
                        } else {
                            this.navigatePage(1); navigatedByPageKeys = true; 
                        }
                        break;
                    case 'PageUp': 
                        e.preventDefault();
                        if (this._currentMode === 'vertical') {
                            this.mangaPagesContainer.scrollTop -= this.mangaPagesContainer.clientHeight * 0.9;
                            scrolledContainer = true;
                        } else {
                            this.navigatePage(-1); navigatedByPageKeys = true;
                        }
                        break;
                }
                if (navigatedByPageKeys || scrolledContainer) {
                    eventHandled = true;
                }
            }

            if (eventHandled) {
                this.showControls();
            }
        }
    }


    // --- CONTENT MANAGER (Coordinator) ---
    const contentManager = {
        currentLang: 'jp',
        lastScroll: 0,
        mangaPlayer: null,

        init() {
            this.mangaPlayer = new MangaPlayer();
            this.setupEventListeners();
            this.addScrollListener();
            this.updateContentVisibility();
        },

        setupEventListeners() {
            document.querySelectorAll('.format-button').forEach(btn => {
                btn.addEventListener('click', (e) => this.handleLanguageChange(e.currentTarget));
            });

            document.addEventListener('click', (e) => {
                const readButton = e.target.closest('.read-button');
                const bookContainer = e.target.closest('.book-container');

                if (readButton) { 
                    const book = readButton.closest('.book-container');
                     if (book && !book.classList.contains('content-unavailable')) {
                        const mangaData = book.dataset[`src${this.currentLang}`];
                        if (mangaData && mangaData.trim() !== '' && mangaData !== 'null') {
                            if (window.matchMedia("(max-width: 768px)").matches && !book.classList.contains('active-mobile')) {
                                document.querySelectorAll('.book-container.active-mobile').forEach(activeBook => activeBook.classList.remove('active-mobile'));
                                book.classList.add('active-mobile'); 
                            }
                            this.mangaPlayer.open(mangaData);
                        }
                    }
                } else if (bookContainer) { 
                    if (window.matchMedia("(max-width: 768px)").matches) {
                        if (bookContainer.classList.contains('active-mobile')) {
                            bookContainer.classList.remove('active-mobile');
                        } else {
                            document.querySelectorAll('.book-container.active-mobile').forEach(activeBook => {
                                activeBook.classList.remove('active-mobile');
                            });
                            bookContainer.classList.add('active-mobile');
                        }
                    } 
                } else if (!e.target.closest('.manga-modal') && !e.target.closest('.support-hub-container')) { 
                     if (window.matchMedia("(max-width: 768px)").matches) {
                        document.querySelectorAll('.book-container.active-mobile').forEach(activeBook => {
                            activeBook.classList.remove('active-mobile');
                        });
                    }
                }
            });

            document.addEventListener('keydown', (e) => {
                if (this.mangaPlayer && this.mangaPlayer.mangaModal.classList.contains('flex')) {
                    this.mangaPlayer.handleKeyboard(e);
                }
            });
        },

        addScrollListener() {
            let lastKnownScrollPosition = 0;
            let ticking = false;
            const navbar = document.querySelector('.detail-nav');
            if (!navbar) return;

            window.addEventListener('scroll', () => {
                lastKnownScrollPosition = window.pageYOffset;
                if (!ticking) {
                    window.requestAnimationFrame(() => {
                        const currentScroll = lastKnownScrollPosition;
                        if (currentScroll > 100 && currentScroll > this.lastScroll) navbar.classList.add('nav-hidden');
                        else navbar.classList.remove('nav-hidden');
                        this.lastScroll = currentScroll <= 0 ? 0 : currentScroll;
                        ticking = false;
                    });
                    ticking = true;
                }
            }, { passive: true });
        },

        handleLanguageChange(button) {
            if (button.classList.contains('active')) return;
            document.querySelectorAll('.format-button').forEach(b => {
                b.classList.remove('active'); b.setAttribute('aria-pressed', 'false');
            });
            button.classList.add('active'); button.setAttribute('aria-pressed', 'true');
            this.currentLang = button.dataset.lang;
            this.updateContentVisibility();
        },

        processBatch(items, action, batchSize = 10, index = 0) {
            const batch = items.slice(index, index + batchSize);
            batch.forEach(item => action(item));

            if (index + batchSize < items.length) {
                requestAnimationFrame(() => this.processBatch(items, action, batchSize, index + batchSize));
            }
        },

        updateContentVisibility() {
            const bookContainers = Array.from(document.querySelectorAll('.book-container'));
            this.processBatch(bookContainers, book => {
                const langAttr = `data-src${this.currentLang}`;
                const available = book.getAttribute(langAttr) && book.getAttribute(langAttr) !== 'null' && book.getAttribute(langAttr).trim() !== '';
                book.classList.toggle('content-unavailable', !available);
                const readButton = book.querySelector('.read-button');
                if (readButton) readButton.disabled = !available;
                if (!available) book.classList.remove('active-mobile');
            });
        }
    };

    document.addEventListener('DOMContentLoaded', () => {
        contentManager.init();
    });

})();
</script>

<script>
  document.getElementById('toggleCommentsBtn').addEventListener('click', function () {
    const commentsSection = document.getElementById('commentsSection');

    // Mostrar la sección si está oculta
    if (commentsSection.style.display === 'none') {
      commentsSection.style.display = 'block';
      this.textContent = '❌ Ocultar comentarios';

      // Crear dinámicamente el script de Giscus (solo si no se ha cargado antes)
      if (!document.querySelector('.giscus-frame')) {
        const script = document.createElement('script');
        script.src = 'https://giscus.app/client.js'; 
        script.setAttribute('data-repo', 'RemastersAnime4k/RemastersAnime4k.github.io');
        script.setAttribute('data-repo-id', 'R_kgDOPc708Q');
        script.setAttribute('data-category', 'Announcements');
        script.setAttribute('data-category-id', 'DIC_kwDOPc708c4CuJNY');
        script.setAttribute('data-mapping', 'pathname');
        script.setAttribute('data-strict', '1');
        script.setAttribute('data-reactions-enabled', '0');
        script.setAttribute('data-emit-metadata', '0');
        script.setAttribute('data-input-position', 'top');
        script.setAttribute('data-theme', 'light');
        script.setAttribute('data-lang', 'es');
        script.setAttribute('crossorigin', 'anonymous');
        script.async = true;
        script.className = 'giscus-frame'; // Para evitar recargarlo
        commentsSection.appendChild(script);
      }
    } else {
      // Ocultar comentarios sin recargarlos
      commentsSection.style.display = 'none';
      this.textContent = '💬 Ver comentarios';
    }
  });
</script>

<script>
    // --- SUPPORT HUB TAB LOGIC ---
    document.addEventListener('DOMContentLoaded', function() {
        const tabsContainer = document.querySelector('.support-tabs');
        if (!tabsContainer) return;

        const tabs = tabsContainer.querySelectorAll('.support-tab');
        const panels = document.querySelectorAll('.support-panel');
        
        tabsContainer.addEventListener('click', (e) => {
            const clickedTab = e.target.closest('.support-tab');
            if (!clickedTab) return;

            tabs.forEach(tab => {
                tab.classList.remove('active');
                tab.setAttribute('aria-selected', 'false');
            });
            panels.forEach(panel => {
                panel.style.display = 'none';
            });

            clickedTab.classList.add('active');
            clickedTab.setAttribute('aria-selected', 'true');

            const targetPanelId = clickedTab.getAttribute('aria-controls');
            const targetPanel = document.getElementById(targetPanelId);
            if (targetPanel) {
                targetPanel.style.display = 'block';
            }
        });

        const commentLinkBtn = document.getElementById('comment-link-btn');
        const commentsSection = document.getElementById('commentsSection');
        if (commentLinkBtn && commentsSection) {
            commentLinkBtn.addEventListener('click', (e) => {
                e.preventDefault();
                const toggleBtn = document.getElementById('toggleCommentsBtn');
                if (commentsSection.style.display === 'none') {
                    toggleBtn.click();
                }
                setTimeout(() => {
                   commentsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100); 
            });
        }
    });
</script>

<script>
// --- Smart Ad System (Improved) ---
document.addEventListener('DOMContentLoaded', () => {
    const adPanel = document.getElementById('panel-ads');
    if (!adPanel) return;

    // Observa cambios en el panel de anuncios para saber cuándo se hace visible.
    const observer = new MutationObserver((mutations) => {
        for (let mutation of mutations) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
                if (adPanel.style.display === 'block' && !adPanel.dataset.adLoaded) {
                    initializeAdSystem();
                    adPanel.dataset.adLoaded = 'true'; // Previene recargas
                }
            }
        }
    });

    observer.observe(adPanel, { attributes: true });

    // Ejecuta el sistema si el panel ya es visible al cargar la página.
    if (adPanel.style.display === 'block' && !adPanel.dataset.adLoaded) {
        initializeAdSystem();
        adPanel.dataset.adLoaded = 'true';
    }
});

// Función principal que inicia el proceso de carga de anuncios.
function initializeAdSystem() {
    const adSlotContainer = document.getElementById('ad-slot-container');
    if (!adSlotContainer) {
        console.error("Ad slot container not found.");
        return;
    }

    // Plan A: Intentar cargar el anuncio dinámico.
    loadDynamicAd(adSlotContainer);

    // Plan B: Iniciar un temporizador para verificar si el Plan A funcionó.
    setTimeout(() => {
        const adIframe = adSlotContainer.querySelector('iframe');
        
        // La condición de fallo: no hay iframe o es un iframe de rastreo muy pequeño.
        if (!adIframe || adIframe.offsetHeight < 50) {
            loadFallbackAd(adSlotContainer);
        }
    }, 3000); // Un temporizador de 3 segundos da tiempo suficiente para que el ad cargue.
}

// Función para el Plan A: Cargar el anuncio de Adsterra.
function loadDynamicAd(container) {
    // 1. Limpiar el contenedor y mostrar un estado de carga.
    container.innerHTML = `
        <div class="asd-container loading-ad">
        </div>
    `;

    // 2. Definir las opciones de Adsterra.
    window.atOptions = {
        'key': 'd5c23d95be4a77b53674f427915af0de',
        'format': 'iframe',
        'height': 250,
        'width': 300,
        'params': {}
    };

    // 3. Crear e inyectar el script de Adsterra dinámicamente.
    const adScript = document.createElement('script');
    adScript.type = 'text/javascript';
    adScript.async = true;
    adScript.src = '//www.highperformanceformat.com/d5c23d95be4a77b53674f427915af0de/invoke.js';
    
    // Si el script en sí no puede cargarse (error de red, etc.), activa el Plan B.
    adScript.onerror = () => {
        console.warn("Adsterra script failed to load (network error).");
        loadFallbackAd(container);
    };

    // Añade el script al DOM.
    const loadingContainer = container.querySelector('.asd-container');
    if(loadingContainer) {
       loadingContainer.appendChild(adScript);
    } else {
       container.appendChild(adScript);
    }
}

// Función para el Plan B: Cargar el anuncio de respaldo estático.
function loadFallbackAd(container) {
    // Prevenir que se ejecute dos veces.
    if (container.querySelector('.fallback-ad')) return;

    console.log("Ad-blocker detected or ad failed to load. Displaying fallback.");
    
    // Define el HTML interno del banner de respaldo.
    const fallbackHTML = `
        <a href="https://remastersanime4k.github.io/Espacio-Publicitario.html" target="_blank" rel="noopener noreferrer">
            <img src="https://i.pinimg.com/736x/11/15/2d/11152dc45f236704097ab8582b865acb.jpg" class="asd-image" alt="Publicidad Alternativa" loading="lazy">
            <div class="asd-content">
                <h3 class="asd-title">¡Tu apoyo hace la diferencia! ❤️</h3>
                <p class="asd-description">Tu visita a los patrocinadores hace posible que sigamos compartiendo tu anime favorito en 4K</p>
                <div class="asd-cta">Visitar</div>
            </div>
        </a>
    `;

    // Reemplaza el contenido del contenedor con el banner de respaldo.
    container.innerHTML = `
        <div class="asd-container fallback-ad">
            <div class="asd-badge">PUBLICIDAD</div>
            ${fallbackHTML}
        </div>
    `;
}
</script>
</body>
</html>
